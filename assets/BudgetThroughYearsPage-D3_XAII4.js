import{R as x,r as B,j as o}from"./index-Dmq-Rdde.js";import{h as Mt,S as Ge}from"./ShareMenu-BjG50u5u.js";import{f as H,L as R,H as ve,o as re,C as Ae,A as st,m as I,j as U,I as $t,n as ze,c as Ie,J as Lt,q as lt,u as ct,i as je,G as dt,k as oe,K as Se,D as Tt,S as Ue,M as It,e as Rt,t as pt,N as Yt,O as Nt,v as ut,z as ft,P as Fe,Q as yt,R as Je,E as qe,U as we}from"./generateCategoricalChart-XitxWV9l.js";import{X as ke,Y as pe,L as Wt,C as Xe}from"./YAxis-DdzCRynC.js";var Kt=["layout","type","stroke","connectNulls","isRange","ref"],Ht=["key"],ht;function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function mt(e,t){if(e==null)return{};var n=Vt(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Vt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(n),!0).forEach(function(r){Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gt(r.key),r)}}function Ut(e,t,n){return t&&Qe(e.prototype,t),n&&Qe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jt(e,t,n){return t=Be(t),qt(e,xt()?Reflect.construct(t,n||[],Be(e).constructor):t.apply(e,n))}function qt(e,t){if(t&&(ie(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xt(e)}function Xt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xt=function(){return!!e})()}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Be(e)}function Zt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Me(e,t)}function Y(e,t,n){return t=gt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e){var t=Qt(e,"string");return ie(t)=="symbol"?t:t+""}function Qt(e,t){if(ie(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ie(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q=(function(e){function t(){var n;Gt(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=Jt(this,t,[].concat(a)),Y(n,"state",{isAnimationFinished:!0}),Y(n,"id",ct("recharts-area-")),Y(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),je(l)&&l()}),Y(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),je(l)&&l()}),n}return Zt(t,e),Ut(t,[{key:"renderDots",value:function(r,a,s){var l=this.props.isAnimationActive,p=this.state.isAnimationFinished;if(l&&!p)return null;var d=this.props,f=d.dot,c=d.points,u=d.dataKey,y=H(this.props,!1),h=H(f,!0),m=c.map(function(g,S){var v=G(G(G({key:"dot-".concat(S),r:3},y),h),{},{index:S,cx:g.x,cy:g.y,dataKey:u,value:g.value,payload:g.payload,points:c});return t.renderDotItem(f,v)}),j={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return x.createElement(R,Q({className:"recharts-area-dots"},j),m)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,s=a.baseLine,l=a.points,p=a.strokeWidth,d=l[0].x,f=l[l.length-1].x,c=r*Math.abs(d-f),u=ve(l.map(function(y){return y.y||0}));return re(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ve(s.map(function(y){return y.y||0})),u)),re(u)?x.createElement("rect",{x:d<f?d:d-c,y:0,width:c,height:Math.floor(u+(p?parseInt("".concat(p),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,s=a.baseLine,l=a.points,p=a.strokeWidth,d=l[0].y,f=l[l.length-1].y,c=r*Math.abs(d-f),u=ve(l.map(function(y){return y.x||0}));return re(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ve(s.map(function(y){return y.x||0})),u)),re(u)?x.createElement("rect",{x:0,y:d<f?d:d-c,width:u+(p?parseInt("".concat(p),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,s,l){var p=this.props,d=p.layout,f=p.type,c=p.stroke,u=p.connectNulls,y=p.isRange;p.ref;var h=mt(p,Kt);return x.createElement(R,{clipPath:s?"url(#clipPath-".concat(l,")"):null},x.createElement(Ae,Q({},H(h,!0),{points:r,connectNulls:u,type:f,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),c!=="none"&&x.createElement(Ae,Q({},H(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:u,fill:"none",points:r})),c!=="none"&&y&&x.createElement(Ae,Q({},H(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var s=this,l=this.props,p=l.points,d=l.baseLine,f=l.isAnimationActive,c=l.animationBegin,u=l.animationDuration,y=l.animationEasing,h=l.animationId,m=this.state,j=m.prevPoints,g=m.prevBaseLine;return x.createElement(st,{begin:c,duration:u,isActive:f,easing:y,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var v=S.t;if(j){var w=j.length/p.length,A=p.map(function(C,E){var z=Math.floor(E*w);if(j[z]){var D=j[z],_=I(D.x,C.x),N=I(D.y,C.y);return G(G({},C),{},{x:_(v),y:N(v)})}return C}),F;if(re(d)&&typeof d=="number"){var k=I(g,d);F=k(v)}else if(U(d)||$t(d)){var P=I(g,0);F=P(v)}else F=d.map(function(C,E){var z=Math.floor(E*w);if(g[z]){var D=g[z],_=I(D.x,C.x),N=I(D.y,C.y);return G(G({},C),{},{x:_(v),y:N(v)})}return C});return s.renderAreaStatically(A,F,r,a)}return x.createElement(R,null,x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(v))),x.createElement(R,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(p,d,r,a)))})}},{key:"renderArea",value:function(r,a){var s=this.props,l=s.points,p=s.baseLine,d=s.isAnimationActive,f=this.state,c=f.prevPoints,u=f.prevBaseLine,y=f.totalLength;return d&&l&&l.length&&(!c&&y>0||!ze(c,l)||!ze(u,p))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(l,p,r,a)}},{key:"render",value:function(){var r,a=this.props,s=a.hide,l=a.dot,p=a.points,d=a.className,f=a.top,c=a.left,u=a.xAxis,y=a.yAxis,h=a.width,m=a.height,j=a.isAnimationActive,g=a.id;if(s||!p||!p.length)return null;var S=this.state.isAnimationFinished,v=p.length===1,w=Ie("recharts-area",d),A=u&&u.allowDataOverflow,F=y&&y.allowDataOverflow,k=A||F,P=U(g)?this.id:g,C=(r=H(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=C.r,z=E===void 0?3:E,D=C.strokeWidth,_=D===void 0?2:D,N=Lt(l)?l:{},he=N.clipDot,X=he===void 0?!0:he,W=z*2+_;return x.createElement(R,{className:w},A||F?x.createElement("defs",null,x.createElement("clipPath",{id:"clipPath-".concat(P)},x.createElement("rect",{x:A?c:c-h/2,y:F?f:f-m/2,width:A?h:h*2,height:F?m:m*2})),!X&&x.createElement("clipPath",{id:"clipPath-dots-".concat(P)},x.createElement("rect",{x:c-W/2,y:f-W/2,width:h+W,height:m+W}))):null,v?null:this.renderArea(k,P),(l||v)&&this.renderDots(k,X,P),(!j||S)&&lt.renderCallByParent(this.props,p))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(B.PureComponent);ht=q;Y(q,"displayName","Area");Y(q,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Y(q,"getBaseValue",function(e,t,n,r){var a=e.layout,s=e.baseValue,l=t.props.baseValue,p=l??s;if(re(p)&&typeof p=="number")return p;var d=a==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var c=Math.max(f[0],f[1]),u=Math.min(f[0],f[1]);return p==="dataMin"?u:p==="dataMax"||c<0?c:Math.max(Math.min(f[0],f[1]),0)}return p==="dataMin"?f[0]:p==="dataMax"?f[1]:f[0]});Y(q,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,p=e.bandSize,d=e.dataKey,f=e.stackedData,c=e.dataStartIndex,u=e.displayedData,y=e.offset,h=t.layout,m=f&&f.length,j=ht.getBaseValue(t,n,r,a),g=h==="horizontal",S=!1,v=u.map(function(A,F){var k;m?k=f[c+F]:(k=oe(A,d),Array.isArray(k)?S=!0:k=[j,k]);var P=k[1]==null||m&&oe(A,d)==null;return g?{x:Se({axis:r,ticks:s,bandSize:p,entry:A,index:F}),y:P?null:a.scale(k[1]),value:k,payload:A}:{x:P?null:r.scale(k[1]),y:Se({axis:a,ticks:l,bandSize:p,entry:A,index:F}),value:k,payload:A}}),w;return m||S?w=v.map(function(A){var F=Array.isArray(A.value)?A.value[0]:null;return g?{x:A.x,y:F!=null&&A.y!=null?a.scale(F):null}:{x:F!=null?r.scale(F):null,y:A.y}}):w=g?a.scale(j):r.scale(j),G({points:v,baseLine:w,layout:h,isRange:S},y)});Y(q,"renderDotItem",function(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(je(e))n=e(t);else{var r=Ie("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=mt(t,Ht);n=x.createElement(Tt,Q({},s,{key:a,className:r}))}return n});function se(e){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(e)}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wt(r.key),r)}}function rr(e,t,n){return t&&tr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nr(e,t,n){return t=Pe(t),ar(e,bt()?Reflect.construct(t,n||[],Pe(e).constructor):t.apply(e,n))}function ar(e,t){if(t&&(se(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return or(e)}function or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bt=function(){return!!e})()}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pe(e)}function ir(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}function $e(e,t){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$e(e,t)}function vt(e,t,n){return t=wt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){var t=sr(e,"string");return se(t)=="symbol"?t:t+""}function sr(e,t){if(se(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(se(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ce=(function(e){function t(){return er(this,t),nr(this,t,arguments)}return ir(t,e),rr(t,[{key:"render",value:function(){return null}}])})(B.Component);vt(Ce,"displayName","ZAxis");vt(Ce,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var lr=["option","isActive"];function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function cr(e,t){if(e==null)return{};var n=dr(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pr(e){var t=e.option,n=e.isActive,r=cr(e,lr);return typeof t=="string"?B.createElement(Ue,ue({option:B.createElement(It,ue({type:t},r)),isActive:n,shapeType:"symbols"},r)):B.createElement(Ue,ue({option:t,isActive:n,shapeType:"symbols"},r))}function le(e){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(e)}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(r){J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jt(r.key),r)}}function fr(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yr(e,t,n){return t=Oe(t),hr(e,At()?Reflect.construct(t,n||[],Oe(e).constructor):t.apply(e,n))}function hr(e,t){if(t&&(le(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(e)}function mr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(At=function(){return!!e})()}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oe(e)}function xr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Le(e,t)}function J(e,t,n){return t=jt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){var t=gr(e,"string");return le(t)=="symbol"?t:t+""}function gr(e,t){if(le(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(le(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var De=(function(e){function t(){var n;ur(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=yr(this,t,[].concat(a)),J(n,"state",{isAnimationFinished:!1}),J(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),J(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),J(n,"id",ct("recharts-scatter-")),n}return xr(t,e),fr(t,[{key:"renderSymbolsStatically",value:function(r){var a=this,s=this.props,l=s.shape,p=s.activeShape,d=s.activeIndex,f=H(this.props,!1);return r.map(function(c,u){var y=d===u,h=y?p:l,m=M(M({},f),c);return x.createElement(R,fe({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(u)},Rt(a.props,c,u),{role:"img"}),x.createElement(pr,fe({option:h,isActive:y,key:"symbol-".concat(u)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,s=a.points,l=a.isAnimationActive,p=a.animationBegin,d=a.animationDuration,f=a.animationEasing,c=a.animationId,u=this.state.prevPoints;return x.createElement(st,{begin:p,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var h=y.t,m=s.map(function(j,g){var S=u&&u[g];if(S){var v=I(S.cx,j.cx),w=I(S.cy,j.cy),A=I(S.size,j.size);return M(M({},j),{},{cx:v(h),cy:w(h),size:A(h)})}var F=I(0,j.size);return M(M({},j),{},{size:F(h)})});return x.createElement(R,null,r.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,s=r.isAnimationActive,l=this.state.prevPoints;return s&&a&&a.length&&(!l||!ze(l,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,p=a.yAxis,d=a.children,f=pt(d,Yt);return f?f.map(function(c,u){var y=c.props,h=y.direction,m=y.dataKey;return x.cloneElement(c,{key:"".concat(h,"-").concat(m,"-").concat(s[u]),data:s,xAxis:l,yAxis:p,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(g,S){return{x:g.cx,y:g.cy,value:h==="x"?+g.node.x:+g.node.y,errorVal:oe(g,S)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,s=r.line,l=r.lineType,p=r.lineJointType,d=H(this.props,!1),f=H(s,!1),c,u;if(l==="joint")c=a.map(function(w){return{x:w.cx,y:w.cy}});else if(l==="fitting"){var y=Nt(a),h=y.xmin,m=y.xmax,j=y.a,g=y.b,S=function(A){return j*A+g};c=[{x:h,y:S(h)},{x:m,y:S(m)}]}var v=M(M(M({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:c});return x.isValidElement(s)?u=x.cloneElement(s,v):je(s)?u=s(v):u=x.createElement(Ae,fe({},v,{type:p})),x.createElement(R,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}},{key:"render",value:function(){var r=this.props,a=r.hide,s=r.points,l=r.line,p=r.className,d=r.xAxis,f=r.yAxis,c=r.left,u=r.top,y=r.width,h=r.height,m=r.id,j=r.isAnimationActive;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,S=Ie("recharts-scatter",p),v=d&&d.allowDataOverflow,w=f&&f.allowDataOverflow,A=v||w,F=U(m)?this.id:m;return x.createElement(R,{className:S,clipPath:A?"url(#clipPath-".concat(F,")"):null},v||w?x.createElement("defs",null,x.createElement("clipPath",{id:"clipPath-".concat(F)},x.createElement("rect",{x:v?c:c-y/2,y:w?u:u-h/2,width:v?y:y*2,height:w?h:h*2}))):null,l&&this.renderLine(),this.renderErrorBar(),x.createElement(R,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!j||g)&&lt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}])})(B.PureComponent);J(De,"displayName","Scatter");J(De,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!dt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});J(De,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,s=e.displayedData,l=e.xAxisTicks,p=e.yAxisTicks,d=e.offset,f=a.props.tooltipType,c=pt(a.props.children,ut),u=U(t.dataKey)?a.props.dataKey:t.dataKey,y=U(n.dataKey)?a.props.dataKey:n.dataKey,h=r&&r.dataKey,m=r?r.range:Ce.defaultProps.range,j=m&&m[0],g=t.scale.bandwidth?t.scale.bandwidth():0,S=n.scale.bandwidth?n.scale.bandwidth():0,v=s.map(function(w,A){var F=oe(w,u),k=oe(w,y),P=!U(h)&&oe(w,h)||"-",C=[{name:U(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:F,payload:w,dataKey:u,type:f},{name:U(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:w,dataKey:y,type:f}];P!=="-"&&C.push({name:r.name||r.dataKey,unit:r.unit||"",value:P,payload:w,dataKey:h,type:f});var E=Se({axis:t,ticks:l,bandSize:g,entry:w,index:A,dataKey:u}),z=Se({axis:n,ticks:p,bandSize:S,entry:w,index:A,dataKey:y}),D=P!=="-"?r.scale(P):j,_=Math.sqrt(Math.max(D,0)/Math.PI);return M(M({},w),{},{cx:E,cy:z,x:E-_,y:z-_,xAxis:t,yAxis:n,zAxis:r,width:2*_,height:2*_,size:D,node:{x:F,y:k,z:P},tooltipPayload:C,tooltipPosition:{x:E,y:z},payload:w},c&&c[A]&&c[A].props)});return M({points:v},d)});var br=ft({chartName:"BarChart",GraphicalChild:Fe,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ke},{axisType:"yAxis",AxisComp:pe}],formatAxisMap:yt}),vr=ft({chartName:"ComposedChart",GraphicalChild:[Wt,q,Fe,De],axisComponents:[{axisType:"xAxis",AxisComp:ke},{axisType:"yAxis",AxisComp:pe},{axisType:"zAxis",AxisComp:Ce}],formatAxisMap:yt});const wr=[{fy:2002,raw:39698060747,mayor:"Giuliani",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2003,raw:42342693648,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2004,raw:43658214665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2005,raw:47209537582,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2006,raw:50187618768,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2007,raw:52940235260,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2008,raw:58964853062,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2009,raw:59169332665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2010,raw:59479863786,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2011,raw:63077044552,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2012,raw:65910705998,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2013,raw:68501044477,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2014,raw:69916832926,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2015,raw:75026906545,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2016,raw:78528034085,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2017,raw:82115790244,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2018,raw:85238681837,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2019,raw:89158064224,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2020,raw:92771874627,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2021,raw:88191953188,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2022,raw:98723402321,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2023,raw:101123813371,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2024,raw:107114535200,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6-23.pdf",sourceLabel:"OMB FY23 Adopted"},{fy:2025,raw:112431582240,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"},{fy:2026,raw:115907309727,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"}],Ar={2002:2.18,2003:2.91,2004:3.29,2005:3.67,2006:4.04,2007:3.12,2008:3.38,2009:2.28,2010:1.12,2011:1.91,2012:2.78,2013:1.75,2014:1.55,2015:.48,2016:.58,2017:1.76,2018:1.78,2019:1.77,2020:1.77,2021:2.06,2022:5.05,2023:5.29,2024:3.43,2025:3.9},ne=wr.map((e,t,n)=>{const r=e.raw/1e9,a=t>0?n[t-1].raw:null,s=a!==null?parseFloat(((e.raw-a)/a*100).toFixed(1)):null,l=a!==null?((e.raw-a)/1e9).toFixed(2):null,p=Ar[e.fy]??null;return{...e,budget:r,pctChange:s,dollarChange:l,inflationPct:p}}),$={Giuliani:"#6B7280",Bloomberg:"#2563EB","de Blasio":"#059669",Adams:"#D97706"},rt=[{name:"Giuliani",start:2002,end:2002},{name:"Bloomberg",start:2003,end:2014},{name:"de Blasio",start:2015,end:2022},{name:"Adams",start:2023,end:2026}],nt=ne.map(e=>e.fy),b="'JetBrains Mono', monospace",T="'Playfair Display', Georgia, serif",ae=(e,t="%")=>{const n=parseFloat(e);return isNaN(n)?"â€”":`${n>0?"+":n<0?"âˆ’":""}${Math.abs(n)}${t}`},ye=e=>`$${(e/1e9).toFixed(2)}B`,Te=e=>{const t=parseFloat(e);return isNaN(t)?"â€”":`${t>0?"+":t<0?"âˆ’":""}$${Math.abs(t).toFixed(2)}B`},at=({data:e,label:t,locked:n,onUnlock:r})=>{if(!e)return o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontFamily:b,fontSize:"11px",color:"#475569",minHeight:"48px"},children:t==="budget"?"Hover over the chart to see details â€¢ Click to freeze":"Hover over a bar to see details â€¢ Click to freeze"});const a=e,s=a.pctChange!==null&&a.pctChange>=0,l=n?o.jsx("span",{onClick:d=>{d.stopPropagation(),r()},style:{fontFamily:b,fontSize:"10px",color:"#475569",cursor:"pointer",padding:"2px 8px",borderRadius:"4px",border:"1px solid #334155",marginLeft:"auto",userSelect:"none",flexShrink:0},title:"Click to unfreeze",children:"ðŸ”’ Frozen â€” click to unfreeze"}):o.jsx("span",{style:{fontFamily:b,fontSize:"10px",color:"#334155",marginLeft:"auto",flexShrink:0},children:"click to freeze"}),p=o.jsxs("a",{href:a.source,target:"_blank",rel:"noopener noreferrer",style:{fontFamily:b,fontSize:"11px",color:"#60A5FA",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"5px",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(96,165,250,0.2)",background:"rgba(96,165,250,0.06)",transition:"background 0.15s",flexShrink:0},onMouseEnter:d=>d.currentTarget.style.background="rgba(96,165,250,0.14)",onMouseLeave:d=>d.currentTarget.style.background="rgba(96,165,250,0.06)",onClick:d=>d.stopPropagation(),children:["ðŸ”— ",a.sourceLabel," ",o.jsx("span",{style:{opacity:.5},children:"â†—"})]});return t==="pct"?a.pctChange===null?null:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[o.jsxs("span",{style:{fontFamily:b,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",a.fy," ",o.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",a.fy-1,")"]})," vs FY ",a.fy-1," ",o.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",a.fy-2,")"]})]}),o.jsx("span",{style:{fontFamily:b,fontSize:"10px",color:$[a.mayor],background:`${$[a.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:a.mayor})]}),o.jsx("span",{style:{fontFamily:T,fontSize:"26px",fontWeight:700,color:s?"#34D399":"#F87171"},children:ae(a.pctChange)})]}),o.jsxs("div",{style:{fontFamily:b,fontSize:"12px",color:"#94A3B8",lineHeight:1.8},children:[o.jsx("span",{style:{color:"#64748B"},children:ye(a.raw-parseFloat(a.dollarChange)*1e9)}),o.jsx("span",{style:{color:"#475569",margin:"0 6px"},children:"â†’"}),o.jsx("span",{style:{color:"#CBD5E1"},children:ye(a.raw)}),o.jsxs("span",{style:{color:"#475569",marginLeft:"8px"},children:["(",Te(a.dollarChange),")"]})]}),p,l]}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[o.jsxs("span",{style:{fontFamily:b,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",a.fy," ",o.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",a.fy-1,")"]})]}),o.jsx("span",{style:{fontFamily:b,fontSize:"10px",color:$[a.mayor],background:`${$[a.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:a.mayor})]}),o.jsx("span",{style:{fontFamily:T,fontSize:"26px",color:"#F8FAFC",fontWeight:700},children:ye(a.raw)})]}),a.pctChange!==null&&o.jsxs("div",{style:{fontFamily:b,fontSize:"13px",fontWeight:700,color:s?"#34D399":"#F87171"},children:[s?"â–²":"â–¼"," ",ae(a.pctChange),o.jsxs("span",{style:{fontFamily:b,fontSize:"11px",color:"#64748B",fontWeight:400,marginLeft:"6px"},children:["(",Te(a.dollarChange),")"]})]}),p,l]})},ot=()=>null,jr=e=>{const{cx:t,cy:n,payload:r}=e;return!t||!n?null:o.jsx("circle",{cx:t,cy:n,r:3.5,fill:$[r.mayor]||"#94A3B8",stroke:"#0F172A",strokeWidth:1.5,style:{cursor:"pointer"}})},Sr=e=>{const{cx:t,cy:n,payload:r}=e;if(!t||!n)return null;const a=$[r.mayor]||"#94A3B8";return o.jsxs("g",{style:{cursor:"pointer"},children:[o.jsx("circle",{cx:t,cy:n,r:14,fill:a,opacity:.15}),o.jsx("circle",{cx:t,cy:n,r:8,fill:a,opacity:.3}),o.jsx("circle",{cx:t,cy:n,r:5,fill:a,stroke:"#F8FAFC",strokeWidth:2})]})},it=({value:e,onChange:t,options:n,label:r})=>o.jsxs("div",{children:[o.jsx("label",{style:{fontFamily:b,fontSize:"9px",color:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:r}),o.jsx("select",{value:e,onChange:a=>t(parseInt(a.target.value)),style:{fontFamily:b,fontSize:"11px",fontWeight:600,color:"#F8FAFC",background:"#1E293B",border:"1px solid #334155",borderRadius:"6px",padding:"6px 24px 6px 8px",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394A3B8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",outline:"none",transition:"border-color 0.15s",maxWidth:"100%"},onFocus:a=>a.target.style.borderColor="#60A5FA",onBlur:a=>a.target.style.borderColor="#334155",children:n.map(a=>o.jsxs("option",{value:a,children:["FY ",a," (P. ",a-1,")"]},a))})]});function Fr(){const[e,t]=B.useState(2002),[n,r]=B.useState(2026),[a,s]=B.useState(null),[l,p]=B.useState(null),[d,f]=B.useState(null),[c,u]=B.useState(null),[y,h]=B.useState(null),[m,j]=B.useState(!1),g=B.useRef(null),S=B.useRef(null),v=B.useRef(null),w=i=>{if(i===null||i===a)s(null),t(2002),r(2026);else{s(i);const O=rt.find(K=>K.name===i);O&&(t(O.start),r(O.end))}u(null),h(null)},A=c||l,F=y||d,k=ne.find(i=>i.fy===e),P=ne.find(i=>i.fy===n),C=n-e,E=k&&P?(P.raw-k.raw)/k.raw*100:0,z=k&&P?(P.raw-k.raw)/1e9:0,D=ne.filter(i=>i.fy>e&&i.fy<=n&&i.pctChange!==null),_=D.length>0?D.reduce((i,O)=>i+O.pctChange,0)/D.length:0,N=ne.filter(i=>i.fy>e&&i.fy<=n&&i.inflationPct!=null),he=N.length>0?N.reduce((i,O)=>i+O.inflationPct,0)/N.length:0,X=ne.filter(i=>i.fy>=e&&i.fy<=n),W=X.filter(i=>i.pctChange!==null),St=nt.filter(i=>i<n),Ft=nt.filter(i=>i>e),kt=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&p(i.activePayload[0].payload)},[]),Bt=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&u(i.activePayload[0].payload)},[]),Pt=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&f(i.activePayload[0].payload)},[]),Ot=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&h(i.activePayload[0].payload)},[]),Re=X.map(i=>i.budget),Ye=Math.floor((Math.min(...Re)-5)/10)*10,Ne=Math.ceil((Math.max(...Re)+5)/10)*10,We=[];for(let i=Ye;i<=Ne;i+=20)We.push(i);const Ke=W.map(i=>i.pctChange),Ct=Math.min(...Ke,0),Dt=Math.max(...Ke,5),ee=a?$[a]:"#D97706",He=window.location.href,me=B.useCallback(async(i,O,K)=>{if(!(!i.current||!v.current))try{const xe=v.current.querySelectorAll("select"),zt=Array.from(xe).map(L=>{var de;return{index:L.selectedIndex,text:((de=L.options[L.selectedIndex])==null?void 0:de.text)||L.value}}),ge=v.current.cloneNode(!0);ge.style.marginBottom="24px",ge.querySelectorAll("select").forEach((L,de)=>{var Ve;const Z=document.createElement("span");Z.textContent=((Ve=zt[de])==null?void 0:Ve.text)||L.value,Z.style.cssText=window.getComputedStyle(xe[de]).cssText,Z.style.display="inline-block",Z.style.appearance="none",Z.style.webkitAppearance="none",Z.style.color="#F8FAFC",L.parentNode.replaceChild(Z,L)}),i.current.insertBefore(ge,i.current.firstChild);const be=i.current.querySelector("[data-detail-panel]");be&&!K&&(be.style.display="none");const ce=await Mt(i.current,{backgroundColor:"#0F172A",scale:2,useCORS:!0,ignoreElements:L=>L.classList.contains("share-menu-controls")});i.current.removeChild(ge),be&&!K&&(be.style.display="");const _e=40,te=document.createElement("canvas");te.width=ce.width,te.height=ce.height+_e*2;const V=te.getContext("2d");V.drawImage(ce,0,0),V.fillStyle="#BE5343",V.fillRect(0,ce.height,te.width,_e*2),V.fillStyle="#FFFFFF",V.font="26px -apple-system, BlinkMacSystemFont, sans-serif",V.textAlign="center",V.textBaseline="middle",V.fillText(`Source: Maximum New York | maximumnewyork.com | ${He}`,te.width/2,ce.height+_e);const Ee=document.createElement("a");Ee.download=`${O}.png`,Ee.href=te.toDataURL("image/png"),Ee.click()}catch(xe){console.error("Download failed:",xe)}},[He]),_t=B.useCallback(()=>{me(g,"nyc-total-budget-2002-2026",c)},[me,c]),Et=B.useCallback(()=>{me(S,"nyc-budget-yoy-change-2002-2026",y)},[me,y]);return o.jsxs("div",{style:{background:"linear-gradient(145deg, #0B1120 0%, #111827 50%, #0F172A 100%)",minHeight:"100vh",padding:"40px 24px",fontFamily:"'Segoe UI', system-ui, sans-serif",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"radial-gradient(circle at 1px 1px, rgba(148,163,184,0.04) 1px, transparent 0)",backgroundSize:"32px 32px",pointerEvents:"none"}}),o.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto",position:"relative",zIndex:1},children:[o.jsxs("div",{ref:v,children:[o.jsxs("div",{style:{marginBottom:"36px"},children:[o.jsx("div",{style:{fontFamily:b,fontSize:"11px",color:"#D97706",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"10px",fontWeight:600},children:"Interactive Model | NYCâ€™s Budget from FY 2002 through 2026"}),o.jsx("h1",{style:{fontFamily:T,fontSize:"clamp(28px, 4vw, 42px)",color:"#F8FAFC",fontWeight:700,lineHeight:1.15,margin:"0 0 8px 0"},children:"NYCâ€™s Budget from FY 2002 through 2026"}),o.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"rgba(217,119,6,0.1)",border:"1px solid rgba(217,119,6,0.25)",borderRadius:"8px",padding:"8px 16px",marginBottom:"12px"},children:o.jsxs("span",{style:{fontFamily:b,fontSize:"12px",color:"#E2E8F0"},children:["Brought to you by"," ",o.jsx("a",{href:"https://maximumnewyork.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#D97706",textDecoration:"none",fontWeight:600,borderBottom:"1px solid rgba(217,119,6,0.4)"},onMouseEnter:i=>i.currentTarget.style.borderBottomColor="#D97706",onMouseLeave:i=>i.currentTarget.style.borderBottomColor="rgba(217,119,6,0.4)",children:"Maximum New York"})]})}),o.jsx("p",{style:{fontSize:"15px",color:"#64748B",margin:0,lineHeight:1.5,maxWidth:"650px"},children:"Total adopted expense budget by fiscal year, FY2002 (passed 2001) through FY2026 (passed 2025). Adjust the range below, hover for details, and click any data point to freeze the panel so you can click the source link."})]}),o.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[o.jsx("span",{style:{fontFamily:b,fontSize:"10px",color:"#536178",letterSpacing:"0.08em",textTransform:"uppercase",marginRight:"4px"},children:"Filter by Mayor"}),[{key:null,label:"All"},...rt.filter(i=>i.name!=="Giuliani").map(i=>({key:i.name,label:i.name}))].map(i=>{const O=i.key===a,K=i.key?$[i.key]:"#94A3B8";return o.jsxs("button",{onClick:()=>i.key?w(i.key):w(null),style:{fontFamily:b,fontSize:"11px",fontWeight:O?700:500,color:O?"#F8FAFC":"#94A3B8",background:O?`${K}25`:"rgba(30,41,59,0.4)",border:`1px solid ${O?`${K}60`:"rgba(51,65,85,0.5)"}`,borderRadius:"8px",padding:"7px 16px",cursor:"pointer",transition:"all 0.2s",outline:"none",boxShadow:O?`0 0 12px ${K}20`:"none"},children:[i.key&&o.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:K,marginRight:7,verticalAlign:"middle",opacity:O?1:.5}}),i.label]},i.label)})]}),o.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"32px",flexWrap:"wrap",alignItems:"stretch"},children:[o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx(it,{value:e,onChange:i=>{t(i),s(null),u(null),h(null)},options:St,label:"Start"}),o.jsx("div",{style:{fontFamily:T,fontSize:"22px",fontWeight:700,color:"#94A3B8",lineHeight:1.2},children:k?ye(k.raw):"â€”"})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx(it,{value:n,onChange:i=>{r(i),s(null),u(null),h(null)},options:Ft,label:"End"}),o.jsx("div",{style:{fontFamily:T,fontSize:"22px",fontWeight:700,color:ee,lineHeight:1.2},children:P?ye(P.raw):"â€”"})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${a?`${$[a]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[o.jsxs("div",{style:{fontFamily:b,fontSize:"9px",color:a?$[a]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:[a?`${a} `:"",C,"-Year Growth"]}),o.jsx("div",{style:{fontFamily:T,fontSize:"22px",fontWeight:700,color:E>=0?"#34D399":"#F87171",lineHeight:1.2},children:ae(E.toFixed(0))}),o.jsxs("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:[Te(z.toFixed(2))," total"]})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${a?`${$[a]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[o.jsx("div",{style:{fontFamily:b,fontSize:"9px",color:a?$[a]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:"Avg Annual Increase"}),o.jsx("div",{style:{fontFamily:T,fontSize:"22px",fontWeight:700,color:_>=0?"#60A5FA":"#F87171",lineHeight:1.2},children:ae(_.toFixed(1))}),o.jsx("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:"Mean YoY change"})]}),m&&o.jsxs("div",{style:{background:"rgba(56,189,248,0.06)",border:"1px solid rgba(56,189,248,0.25)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"all 0.3s"},children:[o.jsx("div",{style:{fontFamily:b,fontSize:"9px",color:"#38BDF8",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px"},children:"Avg Inflation Rate"}),o.jsx("div",{style:{fontFamily:T,fontSize:"22px",fontWeight:700,color:"#38BDF8",lineHeight:1.2},children:ae(he.toFixed(1))}),o.jsx("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:"CPI-U, NYC Metro"})]})]})]}),o.jsxs("div",{ref:g,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px",marginBottom:"40px"},children:[o.jsx(Ge,{chartRef:g,chartId:"nyc-total-budget-2002-2026",title:"NYC Total Adopted Budget FY2002â€“2026",dark:!0,onDownload:_t}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",margin:"0 0 6px 0",flexWrap:"wrap"},children:[o.jsx("h2",{style:{fontFamily:T,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:0},children:"Total Adopted Budget"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginLeft:"auto",position:"relative"},children:[!m&&o.jsxs("div",{style:{position:"absolute",right:"100%",marginRight:"12px",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"6px",animation:"inflationPulse 2s ease-in-out infinite",pointerEvents:"none"},children:[o.jsx("span",{style:{fontFamily:b,fontSize:"11px",fontWeight:600,color:"#38BDF8",background:"rgba(56,189,248,0.1)",border:"1px solid rgba(56,189,248,0.25)",borderRadius:"6px",padding:"4px 10px"},children:"Overlay FY inflation rates!"}),o.jsx("span",{style:{color:"#38BDF8",fontSize:"14px"},children:"â†’"})]}),o.jsx("style",{children:"@keyframes inflationPulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }"}),o.jsx("span",{style:{fontFamily:b,fontSize:"10px",color:m?"#38BDF8":"#536178",letterSpacing:"0.08em",textTransform:"uppercase",transition:"color 0.2s",userSelect:"none"},children:"Show Inflation"}),o.jsx("button",{onClick:()=>j(!m),"aria-label":"Toggle inflation overlay",style:{width:"38px",height:"22px",borderRadius:"11px",background:m?"#38BDF8":"#334155",border:"1px solid "+(m?"#38BDF8":"#475569"),cursor:"pointer",position:"relative",transition:"all 0.2s",padding:0,flexShrink:0},children:o.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:"#F8FAFC",position:"absolute",top:"2px",left:m?"18px":"2px",transition:"left 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}})})]})]}),o.jsx("div",{"data-detail-panel":!0,style:{background:c?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${c?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:o.jsx(at,{data:A,label:"budget",locked:!!c,onUnlock:()=>u(null)})}),o.jsxs("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{c||p(null)},children:[o.jsx(Je,{width:"100%",height:380,children:o.jsxs(vr,{data:X,margin:{top:16,right:m?48:24,left:16,bottom:8},onMouseMove:c?void 0:kt,onClick:Bt,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:ee,stopOpacity:.25}),o.jsx("stop",{offset:"50%",stopColor:ee,stopOpacity:.08}),o.jsx("stop",{offset:"100%",stopColor:ee,stopOpacity:0})]})}),o.jsx(Xe,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),o.jsx(ke,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:b},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:i=>`'${String(i).slice(2)}`,interval:Math.max(1,Math.floor(X.length/14))}),o.jsx(pe,{yAxisId:"left",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:b},tickLine:!1,axisLine:!1,tickFormatter:i=>`$${i}B`,domain:[Ye,Ne],ticks:We}),m&&o.jsx(pe,{yAxisId:"right",orientation:"right",stroke:"#334155",tick:{fill:"#38BDF8",fontSize:11,fontFamily:b},tickLine:!1,axisLine:!1,tickFormatter:i=>`${i}%`,domain:[0,7],ticks:[0,1,2,3,4,5,6,7]}),o.jsx(qe,{content:o.jsx(ot,{}),cursor:{stroke:"#475569",strokeWidth:1,strokeDasharray:"4 4"}}),[{x:2003,label:"Bloomberg"},{x:2015,label:"de Blasio"},{x:2023,label:"Adams"}].filter(i=>i.x>=e&&i.x<=n).map(i=>o.jsx(we,{x:i.x,yAxisId:"left",stroke:"rgba(148,163,184,0.15)",strokeDasharray:"6 4",label:{value:i.label,position:"top",fill:"#475569",fontSize:10,fontFamily:b}},i.x)),m&&o.jsx(Fe,{yAxisId:"right",dataKey:"inflationPct",fill:"#38BDF8",fillOpacity:.18,radius:[3,3,0,0],maxBarSize:24,isAnimationActive:!1}),o.jsx(q,{yAxisId:"left",type:"monotone",dataKey:"budget",stroke:ee,strokeWidth:2.5,fill:"url(#budgetGradient)",dot:o.jsx(jr,{}),activeDot:o.jsx(Sr,{})})]})}),m&&o.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",marginTop:"10px",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:b,fontSize:"10px",color:"#64748B"},children:[o.jsx("div",{style:{width:16,height:3,background:ee,borderRadius:"2px"}}),"Adopted budget (left axis)"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:b,fontSize:"10px",color:"#64748B"},children:[o.jsx("div",{style:{width:10,height:10,borderRadius:"2px",background:"#38BDF8",opacity:.3}}),"CPI inflation rate (right axis)"]})]})]}),o.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:b},children:[o.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link.",o.jsxs("span",{children:[" | ",o.jsx("strong",{style:{color:"#38BDF8"},children:"Inflation:"})," U.S. Bureau of Labor Statistics, CPI-U All Items, NYC Metro Area (1982-84=100), not seasonally adjusted. FY2026 data not yet available. ",o.jsx("a",{href:"/data/nyc_fy_inflation_data.csv",download:!0,style:{color:"#38BDF8",textDecoration:"none",borderBottom:"1px solid rgba(56,189,248,0.3)"},children:"Download inflation data (CSV)"})]})]})]}),o.jsxs("div",{ref:S,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px"},children:[o.jsx(Ge,{chartRef:S,chartId:"nyc-budget-yoy-change-2002-2026",title:"NYC Budget Year-over-Year Change FY2002â€“2026",dark:!0,onDownload:Et}),o.jsx("h2",{style:{fontFamily:T,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 4px 0"},children:"Year-over-Year Change"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748B",margin:"0 0 6px 0"},children:"Percentage increase (or decrease) from the prior fiscal yearâ€™s adopted expense budget"}),o.jsx("div",{"data-detail-panel":!0,style:{background:y?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${y?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:o.jsx(at,{data:F,label:"pct",locked:!!y,onUnlock:()=>h(null)})}),o.jsxs("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{y||f(null)},children:[o.jsx(Je,{width:"100%",height:300,children:o.jsxs(br,{data:W,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:y?void 0:Pt,onClick:Ot,children:[o.jsx(Xe,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),o.jsx(ke,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:b},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:i=>`'${String(i).slice(2)}`,interval:Math.max(1,Math.floor(W.length/14))}),o.jsx(pe,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:b},tickLine:!1,axisLine:!1,tickFormatter:i=>`${i}%`,domain:[Math.floor(Ct)-1,Math.ceil(Dt)+1]}),o.jsx(qe,{content:o.jsx(ot,{}),cursor:{fill:"rgba(148,163,184,0.06)"}}),o.jsx(we,{y:parseFloat(_.toFixed(1)),stroke:"#60A5FA",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:`Avg ${ae(_.toFixed(1))}`,position:"right",fill:"#60A5FA",fontSize:10,fontFamily:b}}),o.jsx(we,{y:0,stroke:"#475569",strokeWidth:1}),[{x:2003},{x:2015},{x:2023}].filter(i=>i.x>e&&i.x<=n).map(i=>o.jsx(we,{x:i.x,stroke:"rgba(148,163,184,0.12)",strokeDasharray:"6 4"},i.x)),o.jsx(Fe,{dataKey:"pctChange",radius:[4,4,0,0],maxBarSize:28,children:W.map((i,O)=>o.jsx(ut,{fill:i.pctChange<0?"#F87171":i.pctChange>7?"#34D399":i.pctChange>4?"#D97706":"#64748B",fillOpacity:.8},`cell-${O}`))})]})}),o.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginTop:"8px",flexWrap:"wrap"},children:[{color:"#F87171",label:"Decrease"},{color:"#64748B",label:"0â€“4%"},{color:"#D97706",label:"4â€“7%"},{color:"#34D399",label:"> 7%"},{color:"#60A5FA",label:"Average",dashed:!0}].map(i=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:b,fontSize:"10px",color:"#64748B"},children:[i.dashed?o.jsx("div",{style:{width:16,height:0,borderTop:`2px dashed ${i.color}`}}):o.jsx("div",{style:{width:10,height:10,borderRadius:"2px",background:i.color,opacity:.8}}),i.label]},i.label))})]}),o.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:b},children:[o.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link."]})]})]})]})}function Dr(){return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"NYC's Budget from FY 2002 through 2026"}),o.jsx("p",{className:"subtitle",children:"Total adopted expense budget by fiscal year, from FY2002 through FY2026. Filter by mayor, adjust the range, hover for details, and click any data point to freeze the panel and access source links."})]}),o.jsx(Fr,{})]})}export{Dr as default};
