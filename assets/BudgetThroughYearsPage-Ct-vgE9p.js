import{R as g,r as w,j as a}from"./index-DW-Y_ZZU.js";import{h as at,S as Se}from"./ShareMenu-BuUJ_0cA.js";import{f as U,L as te,H as ce,o as q,C as xe,A as rt,m as X,j as Ce,I as ot,n as Me,c as $e,J as nt,q as it,u as st,i as me,G as lt,k as Oe,K as Pe,D as ct,z as Ie,M as He,N as Ge,R as De,E as Le,O as de,v as dt}from"./generateCategoricalChart-CP4VFVcK.js";import{X as pe,Y as ue,C as Ye}from"./YAxis-DvfNUXjS.js";var pt=["layout","type","stroke","connectNulls","isRange","ref"],ut=["key"],Ve;function Q(t){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Q(t)}function Ke(t,o){if(t==null)return{};var n=ft(t,o),i,e;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(e=0;e<s.length;e++)i=s[e],!(o.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function ft(t,o){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(o.indexOf(i)>=0)continue;n[i]=t[i]}return n}function G(){return G=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G.apply(this,arguments)}function ze(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function N(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?ze(Object(n),!0).forEach(function(i){E(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ht(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function Ee(t,o){for(var n=0;n<o.length;n++){var i=o[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ue(i.key),i)}}function yt(t,o,n){return o&&Ee(t.prototype,o),n&&Ee(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xt(t,o,n){return o=fe(o),mt(t,Je()?Reflect.construct(o,n||[],fe(t).constructor):o.apply(t,n))}function mt(t,o){if(o&&(Q(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(t)}function gt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Je(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Je=function(){return!!t})()}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fe(t)}function bt(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),o&&ge(t,o)}function ge(t,o){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,e){return i.__proto__=e,i},ge(t,o)}function E(t,o,n){return o=Ue(o),o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}function Ue(t){var o=vt(t,"string");return Q(o)=="symbol"?o:o+""}function vt(t,o){if(Q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,o);if(Q(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $=(function(t){function o(){var n;ht(this,o);for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return n=xt(this,o,[].concat(e)),E(n,"state",{isAnimationFinished:!0}),E(n,"id",st("recharts-area-")),E(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),me(l)&&l()}),E(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),me(l)&&l()}),n}return bt(o,t),yt(o,[{key:"renderDots",value:function(i,e,s){var l=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(l&&!d)return null;var c=this.props,p=c.dot,f=c.points,u=c.dataKey,h=U(this.props,!1),v=U(p,!0),A=f.map(function(b,C){var k=N(N(N({key:"dot-".concat(C),r:3},h),v),{},{index:C,cx:b.x,cy:b.y,dataKey:u,value:b.value,payload:b.payload,points:f});return o.renderDotItem(p,k)}),j={clipPath:i?"url(#clipPath-".concat(e?"":"dots-").concat(s,")"):null};return g.createElement(te,G({className:"recharts-area-dots"},j),A)}},{key:"renderHorizontalRect",value:function(i){var e=this.props,s=e.baseLine,l=e.points,d=e.strokeWidth,c=l[0].x,p=l[l.length-1].x,f=i*Math.abs(c-p),u=ce(l.map(function(h){return h.y||0}));return q(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ce(s.map(function(h){return h.y||0})),u)),q(u)?g.createElement("rect",{x:c<p?c:c-f,y:0,width:f,height:Math.floor(u+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(i){var e=this.props,s=e.baseLine,l=e.points,d=e.strokeWidth,c=l[0].y,p=l[l.length-1].y,f=i*Math.abs(c-p),u=ce(l.map(function(h){return h.x||0}));return q(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ce(s.map(function(h){return h.x||0})),u)),q(u)?g.createElement("rect",{x:0,y:c<p?c:c-f,width:u+(d?parseInt("".concat(d),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(i){var e=this.props.layout;return e==="vertical"?this.renderVerticalRect(i):this.renderHorizontalRect(i)}},{key:"renderAreaStatically",value:function(i,e,s,l){var d=this.props,c=d.layout,p=d.type,f=d.stroke,u=d.connectNulls,h=d.isRange;d.ref;var v=Ke(d,pt);return g.createElement(te,{clipPath:s?"url(#clipPath-".concat(l,")"):null},g.createElement(xe,G({},U(v,!0),{points:i,connectNulls:u,type:p,baseLine:e,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&g.createElement(xe,G({},U(this.props,!1),{className:"recharts-area-curve",layout:c,type:p,connectNulls:u,fill:"none",points:i})),f!=="none"&&h&&g.createElement(xe,G({},U(this.props,!1),{className:"recharts-area-curve",layout:c,type:p,connectNulls:u,fill:"none",points:e})))}},{key:"renderAreaWithAnimation",value:function(i,e){var s=this,l=this.props,d=l.points,c=l.baseLine,p=l.isAnimationActive,f=l.animationBegin,u=l.animationDuration,h=l.animationEasing,v=l.animationId,A=this.state,j=A.prevPoints,b=A.prevBaseLine;return g.createElement(rt,{begin:f,duration:u,isActive:p,easing:h,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var k=C.t;if(j){var L=j.length/d.length,x=d.map(function(S,Y){var P=Math.floor(Y*L);if(j[P]){var M=j[P],z=X(M.x,S.x),I=X(M.y,S.y);return N(N({},S),{},{x:z(k),y:I(k)})}return S}),m;if(q(c)&&typeof c=="number"){var F=X(b,c);m=F(k)}else if(Ce(c)||ot(c)){var O=X(b,0);m=O(k)}else m=c.map(function(S,Y){var P=Math.floor(Y*L);if(b[P]){var M=b[P],z=X(M.x,S.x),I=X(M.y,S.y);return N(N({},S),{},{x:z(k),y:I(k)})}return S});return s.renderAreaStatically(x,m,i,e)}return g.createElement(te,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(e)},s.renderClipRect(k))),g.createElement(te,{clipPath:"url(#animationClipPath-".concat(e,")")},s.renderAreaStatically(d,c,i,e)))})}},{key:"renderArea",value:function(i,e){var s=this.props,l=s.points,d=s.baseLine,c=s.isAnimationActive,p=this.state,f=p.prevPoints,u=p.prevBaseLine,h=p.totalLength;return c&&l&&l.length&&(!f&&h>0||!Me(f,l)||!Me(u,d))?this.renderAreaWithAnimation(i,e):this.renderAreaStatically(l,d,i,e)}},{key:"render",value:function(){var i,e=this.props,s=e.hide,l=e.dot,d=e.points,c=e.className,p=e.top,f=e.left,u=e.xAxis,h=e.yAxis,v=e.width,A=e.height,j=e.isAnimationActive,b=e.id;if(s||!d||!d.length)return null;var C=this.state.isAnimationFinished,k=d.length===1,L=$e("recharts-area",c),x=u&&u.allowDataOverflow,m=h&&h.allowDataOverflow,F=x||m,O=Ce(b)?this.id:b,S=(i=U(l,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},Y=S.r,P=Y===void 0?3:Y,M=S.strokeWidth,z=M===void 0?2:M,I=nt(l)?l:{},ne=I.clipDot,ie=ne===void 0?!0:ne,V=P*2+z;return g.createElement(te,{className:L},x||m?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(O)},g.createElement("rect",{x:x?f:f-v/2,y:m?p:p-A/2,width:x?v:v*2,height:m?A:A*2})),!ie&&g.createElement("clipPath",{id:"clipPath-dots-".concat(O)},g.createElement("rect",{x:f-V/2,y:p-V/2,width:v+V,height:A+V}))):null,k?null:this.renderArea(F,O),(l||k)&&this.renderDots(F,ie,O),(!j||C)&&it.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(i,e){return i.animationId!==e.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,curBaseLine:i.baseLine,prevPoints:e.curPoints,prevBaseLine:e.curBaseLine}:i.points!==e.curPoints||i.baseLine!==e.curBaseLine?{curPoints:i.points,curBaseLine:i.baseLine}:null}}])})(w.PureComponent);Ve=$;E($,"displayName","Area");E($,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!lt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});E($,"getBaseValue",function(t,o,n,i){var e=t.layout,s=t.baseValue,l=o.props.baseValue,d=l??s;if(q(d)&&typeof d=="number")return d;var c=e==="horizontal"?i:n,p=c.scale.domain();if(c.type==="number"){var f=Math.max(p[0],p[1]),u=Math.min(p[0],p[1]);return d==="dataMin"?u:d==="dataMax"||f<0?f:Math.max(Math.min(p[0],p[1]),0)}return d==="dataMin"?p[0]:d==="dataMax"?p[1]:p[0]});E($,"getComposedData",function(t){var o=t.props,n=t.item,i=t.xAxis,e=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,d=t.bandSize,c=t.dataKey,p=t.stackedData,f=t.dataStartIndex,u=t.displayedData,h=t.offset,v=o.layout,A=p&&p.length,j=Ve.getBaseValue(o,n,i,e),b=v==="horizontal",C=!1,k=u.map(function(x,m){var F;A?F=p[f+m]:(F=Oe(x,c),Array.isArray(F)?C=!0:F=[j,F]);var O=F[1]==null||A&&Oe(x,c)==null;return b?{x:Pe({axis:i,ticks:s,bandSize:d,entry:x,index:m}),y:O?null:e.scale(F[1]),value:F,payload:x}:{x:O?null:i.scale(F[1]),y:Pe({axis:e,ticks:l,bandSize:d,entry:x,index:m}),value:F,payload:x}}),L;return A||C?L=k.map(function(x){var m=Array.isArray(x.value)?x.value[0]:null;return b?{x:x.x,y:m!=null&&x.y!=null?e.scale(m):null}:{x:m!=null?i.scale(m):null,y:x.y}}):L=b?e.scale(j):i.scale(j),N({points:k,baseLine:L,layout:v,isRange:C},h)});E($,"renderDotItem",function(t,o){var n;if(g.isValidElement(t))n=g.cloneElement(t,o);else if(me(t))n=t(o);else{var i=$e("recharts-area-dot",typeof t!="boolean"?t.className:""),e=o.key,s=Ke(o,ut);n=g.createElement(ct,G({},s,{key:e,className:i}))}return n});var wt=Ie({chartName:"BarChart",GraphicalChild:He,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pe},{axisType:"yAxis",AxisComp:ue}],formatAxisMap:Ge}),At=Ie({chartName:"AreaChart",GraphicalChild:$,axisComponents:[{axisType:"xAxis",AxisComp:pe},{axisType:"yAxis",AxisComp:ue}],formatAxisMap:Ge});const kt=[{fy:2002,raw:39698060747,mayor:"Giuliani",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2003,raw:42342693648,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2004,raw:43658214665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2005,raw:47209537582,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2006,raw:50187618768,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2007,raw:52940235260,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2008,raw:58964853062,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2009,raw:59169332665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2010,raw:59479863786,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2011,raw:63077044552,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2012,raw:65910705998,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2013,raw:68501044477,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2014,raw:69916832926,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2015,raw:75026906545,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2016,raw:78528034085,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2017,raw:82115790244,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2018,raw:85238681837,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2019,raw:89158064224,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2020,raw:92771874627,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2021,raw:88191953188,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2022,raw:98723402321,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2023,raw:101123813371,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2024,raw:107114535200,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6-23.pdf",sourceLabel:"OMB FY23 Adopted"},{fy:2025,raw:112431582240,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"},{fy:2026,raw:115907309727,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"}],ae=kt.map((t,o,n)=>{const i=t.raw/1e9,e=o>0?n[o-1].raw:null,s=e!==null?parseFloat(((t.raw-e)/e*100).toFixed(1)):null,l=e!==null?((t.raw-e)/1e9).toFixed(2):null;return{...t,budget:i,pctChange:s,dollarChange:l}}),D={Giuliani:"#6B7280",Bloomberg:"#2563EB","de Blasio":"#059669",Adams:"#D97706"},_e=[{name:"Giuliani",start:2002,end:2002},{name:"Bloomberg",start:2003,end:2014},{name:"de Blasio",start:2015,end:2022},{name:"Adams",start:2023,end:2026}],Re=ae.map(t=>t.fy),y="'JetBrains Mono', monospace",R="'Playfair Display', Georgia, serif",re=(t,o="%")=>{const n=parseFloat(t);return isNaN(n)?"â€”":`${n>0?"+":n<0?"âˆ’":""}${Math.abs(n)}${o}`},oe=t=>`$${(t/1e9).toFixed(2)}B`,be=t=>{const o=parseFloat(t);return isNaN(o)?"â€”":`${o>0?"+":o<0?"âˆ’":""}$${Math.abs(o).toFixed(2)}B`},We=({data:t,label:o,locked:n,onUnlock:i})=>{if(!t)return a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontFamily:y,fontSize:"11px",color:"#475569",minHeight:"48px"},children:o==="budget"?"Hover over the chart to see details â€¢ Click to freeze":"Hover over a bar to see details â€¢ Click to freeze"});const e=t,s=e.pctChange!==null&&e.pctChange>=0,l=n?a.jsx("span",{onClick:c=>{c.stopPropagation(),i()},style:{fontFamily:y,fontSize:"10px",color:"#475569",cursor:"pointer",padding:"2px 8px",borderRadius:"4px",border:"1px solid #334155",marginLeft:"auto",userSelect:"none",flexShrink:0},title:"Click to unfreeze",children:"ðŸ”’ Frozen â€” click to unfreeze"}):a.jsx("span",{style:{fontFamily:y,fontSize:"10px",color:"#334155",marginLeft:"auto",flexShrink:0},children:"click to freeze"}),d=a.jsxs("a",{href:e.source,target:"_blank",rel:"noopener noreferrer",style:{fontFamily:y,fontSize:"11px",color:"#60A5FA",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"5px",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(96,165,250,0.2)",background:"rgba(96,165,250,0.06)",transition:"background 0.15s",flexShrink:0},onMouseEnter:c=>c.currentTarget.style.background="rgba(96,165,250,0.14)",onMouseLeave:c=>c.currentTarget.style.background="rgba(96,165,250,0.06)",onClick:c=>c.stopPropagation(),children:["ðŸ”— ",e.sourceLabel," ",a.jsx("span",{style:{opacity:.5},children:"â†—"})]});return o==="pct"?e.pctChange===null?null:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[a.jsxs("span",{style:{fontFamily:y,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",e.fy," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",e.fy-1,")"]})," vs FY ",e.fy-1," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",e.fy-2,")"]})]}),a.jsx("span",{style:{fontFamily:y,fontSize:"10px",color:D[e.mayor],background:`${D[e.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:e.mayor})]}),a.jsx("span",{style:{fontFamily:R,fontSize:"26px",fontWeight:700,color:s?"#34D399":"#F87171"},children:re(e.pctChange)})]}),a.jsxs("div",{style:{fontFamily:y,fontSize:"12px",color:"#94A3B8",lineHeight:1.8},children:[a.jsx("span",{style:{color:"#64748B"},children:oe(e.raw-parseFloat(e.dollarChange)*1e9)}),a.jsx("span",{style:{color:"#475569",margin:"0 6px"},children:"â†’"}),a.jsx("span",{style:{color:"#CBD5E1"},children:oe(e.raw)}),a.jsxs("span",{style:{color:"#475569",marginLeft:"8px"},children:["(",be(e.dollarChange),")"]})]}),d,l]}):a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[a.jsxs("span",{style:{fontFamily:y,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",e.fy," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",e.fy-1,")"]})]}),a.jsx("span",{style:{fontFamily:y,fontSize:"10px",color:D[e.mayor],background:`${D[e.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:e.mayor})]}),a.jsx("span",{style:{fontFamily:R,fontSize:"26px",color:"#F8FAFC",fontWeight:700},children:oe(e.raw)})]}),e.pctChange!==null&&a.jsxs("div",{style:{fontFamily:y,fontSize:"13px",fontWeight:700,color:s?"#34D399":"#F87171"},children:[s?"â–²":"â–¼"," ",re(e.pctChange),a.jsxs("span",{style:{fontFamily:y,fontSize:"11px",color:"#64748B",fontWeight:400,marginLeft:"6px"},children:["(",be(e.dollarChange),")"]})]}),d,l]})},Te=()=>null,Ft=t=>{const{cx:o,cy:n,payload:i}=t;return!o||!n?null:a.jsx("circle",{cx:o,cy:n,r:3.5,fill:D[i.mayor]||"#94A3B8",stroke:"#0F172A",strokeWidth:1.5,style:{cursor:"pointer"}})},jt=t=>{const{cx:o,cy:n,payload:i}=t;if(!o||!n)return null;const e=D[i.mayor]||"#94A3B8";return a.jsxs("g",{style:{cursor:"pointer"},children:[a.jsx("circle",{cx:o,cy:n,r:14,fill:e,opacity:.15}),a.jsx("circle",{cx:o,cy:n,r:8,fill:e,opacity:.3}),a.jsx("circle",{cx:o,cy:n,r:5,fill:e,stroke:"#F8FAFC",strokeWidth:2})]})},Ne=({value:t,onChange:o,options:n,label:i})=>a.jsxs("div",{children:[a.jsx("label",{style:{fontFamily:y,fontSize:"9px",color:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:i}),a.jsx("select",{value:t,onChange:e=>o(parseInt(e.target.value)),style:{fontFamily:y,fontSize:"11px",fontWeight:600,color:"#F8FAFC",background:"#1E293B",border:"1px solid #334155",borderRadius:"6px",padding:"6px 24px 6px 8px",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394A3B8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",outline:"none",transition:"border-color 0.15s",maxWidth:"100%"},onFocus:e=>e.target.style.borderColor="#60A5FA",onBlur:e=>e.target.style.borderColor="#334155",children:n.map(e=>a.jsxs("option",{value:e,children:["FY ",e," (P. ",e-1,")"]},e))})]});function Bt(){const[t,o]=w.useState(2002),[n,i]=w.useState(2026),[e,s]=w.useState(null),[l,d]=w.useState(null),[c,p]=w.useState(null),[f,u]=w.useState(null),[h,v]=w.useState(null),A=w.useRef(null),j=w.useRef(null),b=w.useRef(null),C=r=>{if(r===null||r===e)s(null),o(2002),i(2026);else{s(r);const B=_e.find(_=>_.name===r);B&&(o(B.start),i(B.end))}u(null),v(null)},k=f||l,L=h||c,x=ae.find(r=>r.fy===t),m=ae.find(r=>r.fy===n),F=n-t,O=x&&m?(m.raw-x.raw)/x.raw*100:0,S=x&&m?(m.raw-x.raw)/1e9:0,Y=ae.filter(r=>r.fy>t&&r.fy<=n&&r.pctChange!==null),P=Y.length>0?Y.reduce((r,B)=>r+B.pctChange,0)/Y.length:0,M=ae.filter(r=>r.fy>=t&&r.fy<=n),z=M.filter(r=>r.pctChange!==null),I=Re.filter(r=>r<n),ne=Re.filter(r=>r>t),ie=w.useCallback(r=>{r&&r.activePayload&&r.activePayload.length&&d(r.activePayload[0].payload)},[]),V=w.useCallback(r=>{r&&r.activePayload&&r.activePayload.length&&u(r.activePayload[0].payload)},[]),Xe=w.useCallback(r=>{r&&r.activePayload&&r.activePayload.length&&p(r.activePayload[0].payload)},[]),qe=w.useCallback(r=>{r&&r.activePayload&&r.activePayload.length&&v(r.activePayload[0].payload)},[]),ve=M.map(r=>r.budget),we=Math.floor((Math.min(...ve)-5)/10)*10,Ae=Math.ceil((Math.max(...ve)+5)/10)*10,ke=[];for(let r=we;r<=Ae;r+=20)ke.push(r);const Fe=z.map(r=>r.pctChange),Qe=Math.min(...Fe,0),Ze=Math.max(...Fe,5),Z=e?D[e]:"#D97706",je=window.location.href,se=w.useCallback(async(r,B,_)=>{if(!(!r.current||!b.current))try{const K=b.current.cloneNode(!0);K.style.marginBottom="24px",K.querySelectorAll("select").forEach(T=>{var Be;const H=document.createElement("span");H.textContent=((Be=T.options[T.selectedIndex])==null?void 0:Be.text)||T.value,H.style.cssText=window.getComputedStyle(T).cssText,H.style.display="inline-block",H.style.appearance="none",H.style.webkitAppearance="none",H.style.color="#F8FAFC",T.parentNode.replaceChild(H,T)}),r.current.insertBefore(K,r.current.firstChild);const le=r.current.querySelector("[data-detail-panel]");le&&!_&&(le.style.display="none");const ee=await at(r.current,{backgroundColor:"#0F172A",scale:2,useCORS:!0,ignoreElements:T=>T.classList.contains("share-menu-controls")});r.current.removeChild(K),le&&!_&&(le.style.display="");const he=40,J=document.createElement("canvas");J.width=ee.width,J.height=ee.height+he*2;const W=J.getContext("2d");W.drawImage(ee,0,0),W.fillStyle="#BE5343",W.fillRect(0,ee.height,J.width,he*2),W.fillStyle="#FFFFFF",W.font="26px -apple-system, BlinkMacSystemFont, sans-serif",W.textAlign="center",W.textBaseline="middle",W.fillText(`Source: Maximum New York | maximumnewyork.com | ${je}`,J.width/2,ee.height+he);const ye=document.createElement("a");ye.download=`${B}.png`,ye.href=J.toDataURL("image/png"),ye.click()}catch(K){console.error("Download failed:",K)}},[je]),et=w.useCallback(()=>{se(A,"nyc-total-budget-2002-2026",f)},[se,f]),tt=w.useCallback(()=>{se(j,"nyc-budget-yoy-change-2002-2026",h)},[se,h]);return a.jsxs("div",{style:{background:"linear-gradient(145deg, #0B1120 0%, #111827 50%, #0F172A 100%)",minHeight:"100vh",padding:"40px 24px",fontFamily:"'Segoe UI', system-ui, sans-serif",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"radial-gradient(circle at 1px 1px, rgba(148,163,184,0.04) 1px, transparent 0)",backgroundSize:"32px 32px",pointerEvents:"none"}}),a.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto",position:"relative",zIndex:1},children:[a.jsxs("div",{ref:b,children:[a.jsxs("div",{style:{marginBottom:"36px"},children:[a.jsx("div",{style:{fontFamily:y,fontSize:"11px",color:"#D97706",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"10px",fontWeight:600},children:"Interactive Model | NYCâ€™s Budget from FY 2002 through 2026"}),a.jsx("h1",{style:{fontFamily:R,fontSize:"clamp(28px, 4vw, 42px)",color:"#F8FAFC",fontWeight:700,lineHeight:1.15,margin:"0 0 8px 0"},children:"NYCâ€™s Budget from FY 2002 through 2026"}),a.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"rgba(217,119,6,0.1)",border:"1px solid rgba(217,119,6,0.25)",borderRadius:"8px",padding:"8px 16px",marginBottom:"12px"},children:a.jsxs("span",{style:{fontFamily:y,fontSize:"12px",color:"#E2E8F0"},children:["Brought to you by"," ",a.jsx("a",{href:"https://maximumnewyork.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#D97706",textDecoration:"none",fontWeight:600,borderBottom:"1px solid rgba(217,119,6,0.4)"},onMouseEnter:r=>r.currentTarget.style.borderBottomColor="#D97706",onMouseLeave:r=>r.currentTarget.style.borderBottomColor="rgba(217,119,6,0.4)",children:"Maximum New York"})]})}),a.jsx("p",{style:{fontSize:"15px",color:"#64748B",margin:0,lineHeight:1.5,maxWidth:"650px"},children:"Total adopted expense budget by fiscal year, FY2002 (passed 2001) through FY2026 (passed 2025). Adjust the range below, hover for details, and click any data point to freeze the panel so you can click the source link."})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[a.jsx("span",{style:{fontFamily:y,fontSize:"10px",color:"#536178",letterSpacing:"0.08em",textTransform:"uppercase",marginRight:"4px"},children:"Filter by Mayor"}),[{key:null,label:"All"},..._e.filter(r=>r.name!=="Giuliani").map(r=>({key:r.name,label:r.name}))].map(r=>{const B=r.key===e,_=r.key?D[r.key]:"#94A3B8";return a.jsxs("button",{onClick:()=>r.key?C(r.key):C(null),style:{fontFamily:y,fontSize:"11px",fontWeight:B?700:500,color:B?"#F8FAFC":"#94A3B8",background:B?`${_}25`:"rgba(30,41,59,0.4)",border:`1px solid ${B?`${_}60`:"rgba(51,65,85,0.5)"}`,borderRadius:"8px",padding:"7px 16px",cursor:"pointer",transition:"all 0.2s",outline:"none",boxShadow:B?`0 0 12px ${_}20`:"none"},children:[r.key&&a.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:_,marginRight:7,verticalAlign:"middle",opacity:B?1:.5}}),r.label]},r.label)})]}),a.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"32px",flexWrap:"wrap",alignItems:"stretch"},children:[a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[a.jsx(Ne,{value:t,onChange:r=>{o(r),s(null),u(null),v(null)},options:I,label:"Start"}),a.jsx("div",{style:{fontFamily:R,fontSize:"22px",fontWeight:700,color:"#94A3B8",lineHeight:1.2},children:x?oe(x.raw):"â€”"})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[a.jsx(Ne,{value:n,onChange:r=>{i(r),s(null),u(null),v(null)},options:ne,label:"End"}),a.jsx("div",{style:{fontFamily:R,fontSize:"22px",fontWeight:700,color:Z,lineHeight:1.2},children:m?oe(m.raw):"â€”"})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${e?`${D[e]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[a.jsxs("div",{style:{fontFamily:y,fontSize:"9px",color:e?D[e]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:[e?`${e} `:"",F,"-Year Growth"]}),a.jsx("div",{style:{fontFamily:R,fontSize:"22px",fontWeight:700,color:O>=0?"#34D399":"#F87171",lineHeight:1.2},children:re(O.toFixed(0))}),a.jsxs("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:[be(S.toFixed(2))," total"]})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${e?`${D[e]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[a.jsx("div",{style:{fontFamily:y,fontSize:"9px",color:e?D[e]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:"Avg Annual Increase"}),a.jsx("div",{style:{fontFamily:R,fontSize:"22px",fontWeight:700,color:P>=0?"#60A5FA":"#F87171",lineHeight:1.2},children:re(P.toFixed(1))}),a.jsx("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:"Mean YoY change"})]})]})]}),a.jsxs("div",{ref:A,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px",marginBottom:"40px"},children:[a.jsx(Se,{chartRef:A,chartId:"nyc-total-budget-2002-2026",title:"NYC Total Adopted Budget FY2002â€“2026",dark:!0,onDownload:et}),a.jsx("h2",{style:{fontFamily:R,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 6px 0"},children:"Total Adopted Budget"}),a.jsx("div",{"data-detail-panel":!0,style:{background:f?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${f?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:a.jsx(We,{data:k,label:"budget",locked:!!f,onUnlock:()=>u(null)})}),a.jsx("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{f||d(null)},children:a.jsx(De,{width:"100%",height:380,children:a.jsxs(At,{data:M,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:f?void 0:ie,onClick:V,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Z,stopOpacity:.25}),a.jsx("stop",{offset:"50%",stopColor:Z,stopOpacity:.08}),a.jsx("stop",{offset:"100%",stopColor:Z,stopOpacity:0})]})}),a.jsx(Ye,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),a.jsx(pe,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:y},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:r=>`'${String(r).slice(2)}`,interval:Math.max(1,Math.floor(M.length/14))}),a.jsx(ue,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:y},tickLine:!1,axisLine:!1,tickFormatter:r=>`$${r}B`,domain:[we,Ae],ticks:ke}),a.jsx(Le,{content:a.jsx(Te,{}),cursor:{stroke:"#475569",strokeWidth:1,strokeDasharray:"4 4"}}),[{x:2003,label:"Bloomberg"},{x:2015,label:"de Blasio"},{x:2023,label:"Adams"}].filter(r=>r.x>=t&&r.x<=n).map(r=>a.jsx(de,{x:r.x,stroke:"rgba(148,163,184,0.15)",strokeDasharray:"6 4",label:{value:r.label,position:"top",fill:"#475569",fontSize:10,fontFamily:y}},r.x)),a.jsx($,{type:"monotone",dataKey:"budget",stroke:Z,strokeWidth:2.5,fill:"url(#budgetGradient)",dot:a.jsx(Ft,{}),activeDot:a.jsx(jt,{})})]})})}),a.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:y},children:[a.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link."]})]}),a.jsxs("div",{ref:j,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px"},children:[a.jsx(Se,{chartRef:j,chartId:"nyc-budget-yoy-change-2002-2026",title:"NYC Budget Year-over-Year Change FY2002â€“2026",dark:!0,onDownload:tt}),a.jsx("h2",{style:{fontFamily:R,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 4px 0"},children:"Year-over-Year Change"}),a.jsx("p",{style:{fontSize:"13px",color:"#64748B",margin:"0 0 6px 0"},children:"Percentage increase (or decrease) from the prior fiscal yearâ€™s adopted expense budget"}),a.jsx("div",{"data-detail-panel":!0,style:{background:h?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${h?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:a.jsx(We,{data:L,label:"pct",locked:!!h,onUnlock:()=>v(null)})}),a.jsxs("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{h||p(null)},children:[a.jsx(De,{width:"100%",height:300,children:a.jsxs(wt,{data:z,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:h?void 0:Xe,onClick:qe,children:[a.jsx(Ye,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),a.jsx(pe,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:y},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:r=>`'${String(r).slice(2)}`,interval:Math.max(1,Math.floor(z.length/14))}),a.jsx(ue,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:y},tickLine:!1,axisLine:!1,tickFormatter:r=>`${r}%`,domain:[Math.floor(Qe)-1,Math.ceil(Ze)+1]}),a.jsx(Le,{content:a.jsx(Te,{}),cursor:{fill:"rgba(148,163,184,0.06)"}}),a.jsx(de,{y:parseFloat(P.toFixed(1)),stroke:"#60A5FA",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:`Avg ${re(P.toFixed(1))}`,position:"right",fill:"#60A5FA",fontSize:10,fontFamily:y}}),a.jsx(de,{y:0,stroke:"#475569",strokeWidth:1}),[{x:2003},{x:2015},{x:2023}].filter(r=>r.x>t&&r.x<=n).map(r=>a.jsx(de,{x:r.x,stroke:"rgba(148,163,184,0.12)",strokeDasharray:"6 4"},r.x)),a.jsx(He,{dataKey:"pctChange",radius:[4,4,0,0],maxBarSize:28,children:z.map((r,B)=>a.jsx(dt,{fill:r.pctChange<0?"#F87171":r.pctChange>7?"#34D399":r.pctChange>4?"#D97706":"#64748B",fillOpacity:.8},`cell-${B}`))})]})}),a.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginTop:"8px",flexWrap:"wrap"},children:[{color:"#F87171",label:"Decrease"},{color:"#64748B",label:"0â€“4%"},{color:"#D97706",label:"4â€“7%"},{color:"#34D399",label:"> 7%"},{color:"#60A5FA",label:"Average",dashed:!0}].map(r=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:y,fontSize:"10px",color:"#64748B"},children:[r.dashed?a.jsx("div",{style:{width:16,height:0,borderTop:`2px dashed ${r.color}`}}):a.jsx("div",{style:{width:10,height:10,borderRadius:"2px",background:r.color,opacity:.8}}),r.label]},r.label))})]}),a.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:y},children:[a.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link."]})]})]})]})}function Pt(){return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"NYC's Budget from FY 2002 through 2026"}),a.jsx("p",{className:"subtitle",children:"Total adopted expense budget by fiscal year, from FY2002 through FY2026. Filter by mayor, adjust the range, hover for details, and click any data point to freeze the panel and access source links."})]}),a.jsx(Bt,{})]})}export{Pt as default};
