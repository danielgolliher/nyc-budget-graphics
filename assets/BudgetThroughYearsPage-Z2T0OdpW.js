import{R as x,r as B,j as o}from"./index-ORpmyoYd.js";import{h as Ct,S as He}from"./ShareMenu-Dxf2ZYPm.js";import{f as W,L as I,H as ge,o as ne,C as ve,A as ot,m as T,j as V,I as Dt,n as _e,c as Le,J as _t,q as it,u as st,i as we,G as lt,k as ae,K as Ae,D as Et,S as Ge,M as zt,e as Mt,t as ct,N as $t,O as Lt,v as dt,z as pt,P as je,Q as ut,R as Ve,E as Je,U as be}from"./generateCategoricalChart-BBH6gD5J.js";import{X as Se,Y as de,L as Tt,C as Ue}from"./YAxis-CuKl2ZEu.js";var It=["layout","type","stroke","connectNulls","isRange","ref"],Yt=["key"],ft;function oe(t){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(t)}function yt(t,e){if(t==null)return{};var n=Rt(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xe(Object(n),!0).forEach(function(r){Y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mt(r.key),r)}}function Wt(t,e,n){return e&&qe(t.prototype,e),n&&qe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kt(t,e,n){return e=Fe(e),Ht(t,ht()?Reflect.construct(e,n||[],Fe(t).constructor):e.apply(t,n))}function Ht(t,e){if(e&&(oe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gt(t)}function Gt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ht=function(){return!!t})()}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fe(t)}function Vt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ee(t,e)}function Y(t,e,n){return e=mt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t){var e=Jt(t,"string");return oe(e)=="symbol"?e:e+""}function Jt(t,e){if(oe(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U=(function(t){function e(){var n;Nt(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=Kt(this,e,[].concat(a)),Y(n,"state",{isAnimationFinished:!0}),Y(n,"id",st("recharts-area-")),Y(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),we(l)&&l()}),Y(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),we(l)&&l()}),n}return Vt(e,t),Wt(e,[{key:"renderDots",value:function(r,a,s){var l=this.props.isAnimationActive,p=this.state.isAnimationFinished;if(l&&!p)return null;var d=this.props,f=d.dot,c=d.points,u=d.dataKey,y=W(this.props,!1),h=W(f,!0),m=c.map(function(g,S){var w=G(G(G({key:"dot-".concat(S),r:3},y),h),{},{index:S,cx:g.x,cy:g.y,dataKey:u,value:g.value,payload:g.payload,points:c});return e.renderDotItem(f,w)}),j={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return x.createElement(I,Z({className:"recharts-area-dots"},j),m)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,s=a.baseLine,l=a.points,p=a.strokeWidth,d=l[0].x,f=l[l.length-1].x,c=r*Math.abs(d-f),u=ge(l.map(function(y){return y.y||0}));return ne(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ge(s.map(function(y){return y.y||0})),u)),ne(u)?x.createElement("rect",{x:d<f?d:d-c,y:0,width:c,height:Math.floor(u+(p?parseInt("".concat(p),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,s=a.baseLine,l=a.points,p=a.strokeWidth,d=l[0].y,f=l[l.length-1].y,c=r*Math.abs(d-f),u=ge(l.map(function(y){return y.x||0}));return ne(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(ge(s.map(function(y){return y.x||0})),u)),ne(u)?x.createElement("rect",{x:0,y:d<f?d:d-c,width:u+(p?parseInt("".concat(p),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,s,l){var p=this.props,d=p.layout,f=p.type,c=p.stroke,u=p.connectNulls,y=p.isRange;p.ref;var h=yt(p,It);return x.createElement(I,{clipPath:s?"url(#clipPath-".concat(l,")"):null},x.createElement(ve,Z({},W(h,!0),{points:r,connectNulls:u,type:f,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),c!=="none"&&x.createElement(ve,Z({},W(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:u,fill:"none",points:r})),c!=="none"&&y&&x.createElement(ve,Z({},W(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var s=this,l=this.props,p=l.points,d=l.baseLine,f=l.isAnimationActive,c=l.animationBegin,u=l.animationDuration,y=l.animationEasing,h=l.animationId,m=this.state,j=m.prevPoints,g=m.prevBaseLine;return x.createElement(ot,{begin:c,duration:u,isActive:f,easing:y,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(j){var b=j.length/p.length,A=p.map(function(O,E){var z=Math.floor(E*b);if(j[z]){var D=j[z],_=T(D.x,O.x),L=T(D.y,O.y);return G(G({},O),{},{x:_(w),y:L(w)})}return O}),F;if(ne(d)&&typeof d=="number"){var k=T(g,d);F=k(w)}else if(V(d)||Dt(d)){var P=T(g,0);F=P(w)}else F=d.map(function(O,E){var z=Math.floor(E*b);if(g[z]){var D=g[z],_=T(D.x,O.x),L=T(D.y,O.y);return G(G({},O),{},{x:_(w),y:L(w)})}return O});return s.renderAreaStatically(A,F,r,a)}return x.createElement(I,null,x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(w))),x.createElement(I,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(p,d,r,a)))})}},{key:"renderArea",value:function(r,a){var s=this.props,l=s.points,p=s.baseLine,d=s.isAnimationActive,f=this.state,c=f.prevPoints,u=f.prevBaseLine,y=f.totalLength;return d&&l&&l.length&&(!c&&y>0||!_e(c,l)||!_e(u,p))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(l,p,r,a)}},{key:"render",value:function(){var r,a=this.props,s=a.hide,l=a.dot,p=a.points,d=a.className,f=a.top,c=a.left,u=a.xAxis,y=a.yAxis,h=a.width,m=a.height,j=a.isAnimationActive,g=a.id;if(s||!p||!p.length)return null;var S=this.state.isAnimationFinished,w=p.length===1,b=Le("recharts-area",d),A=u&&u.allowDataOverflow,F=y&&y.allowDataOverflow,k=A||F,P=V(g)?this.id:g,O=(r=W(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=O.r,z=E===void 0?3:E,D=O.strokeWidth,_=D===void 0?2:D,L=_t(l)?l:{},X=L.clipDot,he=X===void 0?!0:X,Q=z*2+_;return x.createElement(I,{className:b},A||F?x.createElement("defs",null,x.createElement("clipPath",{id:"clipPath-".concat(P)},x.createElement("rect",{x:A?c:c-h/2,y:F?f:f-m/2,width:A?h:h*2,height:F?m:m*2})),!he&&x.createElement("clipPath",{id:"clipPath-dots-".concat(P)},x.createElement("rect",{x:c-Q/2,y:f-Q/2,width:h+Q,height:m+Q}))):null,w?null:this.renderArea(k,P),(l||w)&&this.renderDots(k,he,P),(!j||S)&&it.renderCallByParent(this.props,p))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(B.PureComponent);ft=U;Y(U,"displayName","Area");Y(U,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!lt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Y(U,"getBaseValue",function(t,e,n,r){var a=t.layout,s=t.baseValue,l=e.props.baseValue,p=l??s;if(ne(p)&&typeof p=="number")return p;var d=a==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var c=Math.max(f[0],f[1]),u=Math.min(f[0],f[1]);return p==="dataMin"?u:p==="dataMax"||c<0?c:Math.max(Math.min(f[0],f[1]),0)}return p==="dataMin"?f[0]:p==="dataMax"?f[1]:f[0]});Y(U,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,p=t.bandSize,d=t.dataKey,f=t.stackedData,c=t.dataStartIndex,u=t.displayedData,y=t.offset,h=e.layout,m=f&&f.length,j=ft.getBaseValue(e,n,r,a),g=h==="horizontal",S=!1,w=u.map(function(A,F){var k;m?k=f[c+F]:(k=ae(A,d),Array.isArray(k)?S=!0:k=[j,k]);var P=k[1]==null||m&&ae(A,d)==null;return g?{x:Ae({axis:r,ticks:s,bandSize:p,entry:A,index:F}),y:P?null:a.scale(k[1]),value:k,payload:A}:{x:P?null:r.scale(k[1]),y:Ae({axis:a,ticks:l,bandSize:p,entry:A,index:F}),value:k,payload:A}}),b;return m||S?b=w.map(function(A){var F=Array.isArray(A.value)?A.value[0]:null;return g?{x:A.x,y:F!=null&&A.y!=null?a.scale(F):null}:{x:F!=null?r.scale(F):null,y:A.y}}):b=g?a.scale(j):r.scale(j),G({points:w,baseLine:b,layout:h,isRange:S},y)});Y(U,"renderDotItem",function(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(we(t))n=t(e);else{var r=Le("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,s=yt(e,Yt);n=x.createElement(Et,Z({},s,{key:a,className:r}))}return n});function ie(t){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(t)}function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bt(r.key),r)}}function qt(t,e,n){return e&&Xt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zt(t,e,n){return e=ke(e),Qt(t,xt()?Reflect.construct(e,n||[],ke(t).constructor):e.apply(t,n))}function Qt(t,e){if(e&&(ie(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(t)}function er(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xt=function(){return!!t})()}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ke(t)}function tr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ze(t,e)}function ze(t,e){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ze(t,e)}function gt(t,e,n){return e=bt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bt(t){var e=rr(t,"string");return ie(e)=="symbol"?e:e+""}function rr(t,e){if(ie(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ie(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pe=(function(t){function e(){return Ut(this,e),Zt(this,e,arguments)}return tr(e,t),qt(e,[{key:"render",value:function(){return null}}])})(B.Component);gt(Pe,"displayName","ZAxis");gt(Pe,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var nr=["option","isActive"];function pe(){return pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pe.apply(this,arguments)}function ar(t,e){if(t==null)return{};var n=or(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function or(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ir(t){var e=t.option,n=t.isActive,r=ar(t,nr);return typeof e=="string"?B.createElement(Ge,pe({option:B.createElement(zt,pe({type:e},r)),isActive:n,shapeType:"symbols"},r)):B.createElement(Ge,pe({option:e,isActive:n,shapeType:"symbols"},r))}function se(t){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(t)}function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ue.apply(this,arguments)}function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ze(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wt(r.key),r)}}function lr(t,e,n){return e&&Qe(t.prototype,e),n&&Qe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cr(t,e,n){return e=Be(e),dr(t,vt()?Reflect.construct(e,n||[],Be(t).constructor):e.apply(t,n))}function dr(t,e){if(e&&(se(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pr(t)}function pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vt=function(){return!!t})()}function Be(t){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Be(t)}function ur(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Me(t,e)}function J(t,e,n){return e=wt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wt(t){var e=fr(t,"string");return se(e)=="symbol"?e:e+""}function fr(t,e){if(se(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(se(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oe=(function(t){function e(){var n;sr(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=cr(this,e,[].concat(a)),J(n,"state",{isAnimationFinished:!1}),J(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),J(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),J(n,"id",st("recharts-scatter-")),n}return ur(e,t),lr(e,[{key:"renderSymbolsStatically",value:function(r){var a=this,s=this.props,l=s.shape,p=s.activeShape,d=s.activeIndex,f=W(this.props,!1);return r.map(function(c,u){var y=d===u,h=y?p:l,m=M(M({},f),c);return x.createElement(I,ue({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(u)},Mt(a.props,c,u),{role:"img"}),x.createElement(ir,ue({option:h,isActive:y,key:"symbol-".concat(u)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,s=a.points,l=a.isAnimationActive,p=a.animationBegin,d=a.animationDuration,f=a.animationEasing,c=a.animationId,u=this.state.prevPoints;return x.createElement(ot,{begin:p,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var h=y.t,m=s.map(function(j,g){var S=u&&u[g];if(S){var w=T(S.cx,j.cx),b=T(S.cy,j.cy),A=T(S.size,j.size);return M(M({},j),{},{cx:w(h),cy:b(h),size:A(h)})}var F=T(0,j.size);return M(M({},j),{},{size:F(h)})});return x.createElement(I,null,r.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,s=r.isAnimationActive,l=this.state.prevPoints;return s&&a&&a.length&&(!l||!_e(l,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,p=a.yAxis,d=a.children,f=ct(d,$t);return f?f.map(function(c,u){var y=c.props,h=y.direction,m=y.dataKey;return x.cloneElement(c,{key:"".concat(h,"-").concat(m,"-").concat(s[u]),data:s,xAxis:l,yAxis:p,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(g,S){return{x:g.cx,y:g.cy,value:h==="x"?+g.node.x:+g.node.y,errorVal:ae(g,S)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,s=r.line,l=r.lineType,p=r.lineJointType,d=W(this.props,!1),f=W(s,!1),c,u;if(l==="joint")c=a.map(function(b){return{x:b.cx,y:b.cy}});else if(l==="fitting"){var y=Lt(a),h=y.xmin,m=y.xmax,j=y.a,g=y.b,S=function(A){return j*A+g};c=[{x:h,y:S(h)},{x:m,y:S(m)}]}var w=M(M(M({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:c});return x.isValidElement(s)?u=x.cloneElement(s,w):we(s)?u=s(w):u=x.createElement(ve,ue({},w,{type:p})),x.createElement(I,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}},{key:"render",value:function(){var r=this.props,a=r.hide,s=r.points,l=r.line,p=r.className,d=r.xAxis,f=r.yAxis,c=r.left,u=r.top,y=r.width,h=r.height,m=r.id,j=r.isAnimationActive;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,S=Le("recharts-scatter",p),w=d&&d.allowDataOverflow,b=f&&f.allowDataOverflow,A=w||b,F=V(m)?this.id:m;return x.createElement(I,{className:S,clipPath:A?"url(#clipPath-".concat(F,")"):null},w||b?x.createElement("defs",null,x.createElement("clipPath",{id:"clipPath-".concat(F)},x.createElement("rect",{x:w?c:c-y/2,y:b?u:u-h/2,width:w?y:y*2,height:b?h:h*2}))):null,l&&this.renderLine(),this.renderErrorBar(),x.createElement(I,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!j||g)&&it.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}])})(B.PureComponent);J(Oe,"displayName","Scatter");J(Oe,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!lt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});J(Oe,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,a=t.item,s=t.displayedData,l=t.xAxisTicks,p=t.yAxisTicks,d=t.offset,f=a.props.tooltipType,c=ct(a.props.children,dt),u=V(e.dataKey)?a.props.dataKey:e.dataKey,y=V(n.dataKey)?a.props.dataKey:n.dataKey,h=r&&r.dataKey,m=r?r.range:Pe.defaultProps.range,j=m&&m[0],g=e.scale.bandwidth?e.scale.bandwidth():0,S=n.scale.bandwidth?n.scale.bandwidth():0,w=s.map(function(b,A){var F=ae(b,u),k=ae(b,y),P=!V(h)&&ae(b,h)||"-",O=[{name:V(e.dataKey)?a.props.name:e.name||e.dataKey,unit:e.unit||"",value:F,payload:b,dataKey:u,type:f},{name:V(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:b,dataKey:y,type:f}];P!=="-"&&O.push({name:r.name||r.dataKey,unit:r.unit||"",value:P,payload:b,dataKey:h,type:f});var E=Ae({axis:e,ticks:l,bandSize:g,entry:b,index:A,dataKey:u}),z=Ae({axis:n,ticks:p,bandSize:S,entry:b,index:A,dataKey:y}),D=P!=="-"?r.scale(P):j,_=Math.sqrt(Math.max(D,0)/Math.PI);return M(M({},b),{},{cx:E,cy:z,x:E-_,y:z-_,xAxis:e,yAxis:n,zAxis:r,width:2*_,height:2*_,size:D,node:{x:F,y:k,z:P},tooltipPayload:O,tooltipPosition:{x:E,y:z},payload:b},c&&c[A]&&c[A].props)});return M({points:w},d)});var yr=pt({chartName:"BarChart",GraphicalChild:je,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Se},{axisType:"yAxis",AxisComp:de}],formatAxisMap:ut}),hr=pt({chartName:"ComposedChart",GraphicalChild:[Tt,U,je,Oe],axisComponents:[{axisType:"xAxis",AxisComp:Se},{axisType:"yAxis",AxisComp:de},{axisType:"zAxis",AxisComp:Pe}],formatAxisMap:ut});const mr=[{fy:2002,raw:39698060747,mayor:"Giuliani",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2003,raw:42342693648,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2004,raw:43658214665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2005,raw:47209537582,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2006,raw:50187618768,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2007,raw:52940235260,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2008,raw:58964853062,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2009,raw:59169332665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2010,raw:59479863786,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2011,raw:63077044552,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2012,raw:65910705998,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2013,raw:68501044477,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2014,raw:69916832926,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2015,raw:75026906545,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2016,raw:78528034085,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2017,raw:82115790244,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2018,raw:85238681837,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2019,raw:89158064224,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2020,raw:92771874627,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2021,raw:88191953188,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2022,raw:98723402321,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2023,raw:101123813371,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2024,raw:107114535200,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6-23.pdf",sourceLabel:"OMB FY23 Adopted"},{fy:2025,raw:112431582240,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"},{fy:2026,raw:115907309727,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"}],xr={2002:2.18,2003:2.91,2004:3.29,2005:3.67,2006:4.04,2007:3.12,2008:3.38,2009:2.28,2010:1.12,2011:1.91,2012:2.78,2013:1.75,2014:1.55,2015:.48,2016:.58,2017:1.76,2018:1.78,2019:1.77,2020:1.77,2021:2.06,2022:5.05,2023:5.29,2024:3.43,2025:3.9},ce=mr.map((t,e,n)=>{const r=t.raw/1e9,a=e>0?n[e-1].raw:null,s=a!==null?parseFloat(((t.raw-a)/a*100).toFixed(1)):null,l=a!==null?((t.raw-a)/1e9).toFixed(2):null,p=xr[t.fy]??null;return{...t,budget:r,pctChange:s,dollarChange:l,inflationPct:p}}),$={Giuliani:"#6B7280",Bloomberg:"#2563EB","de Blasio":"#059669",Adams:"#D97706"},et=[{name:"Giuliani",start:2002,end:2002},{name:"Bloomberg",start:2003,end:2014},{name:"de Blasio",start:2015,end:2022},{name:"Adams",start:2023,end:2026}],tt=ce.map(t=>t.fy),v="'JetBrains Mono', monospace",N="'Playfair Display', Georgia, serif",fe=(t,e="%")=>{const n=parseFloat(t);return isNaN(n)?"â€”":`${n>0?"+":n<0?"âˆ’":""}${Math.abs(n)}${e}`},ye=t=>`$${(t/1e9).toFixed(2)}B`,$e=t=>{const e=parseFloat(t);return isNaN(e)?"â€”":`${e>0?"+":e<0?"âˆ’":""}$${Math.abs(e).toFixed(2)}B`},rt=({data:t,label:e,locked:n,onUnlock:r})=>{if(!t)return o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontFamily:v,fontSize:"11px",color:"#475569",minHeight:"48px"},children:e==="budget"?"Hover over the chart to see details â€¢ Click to freeze":"Hover over a bar to see details â€¢ Click to freeze"});const a=t,s=a.pctChange!==null&&a.pctChange>=0,l=n?o.jsx("span",{onClick:d=>{d.stopPropagation(),r()},style:{fontFamily:v,fontSize:"10px",color:"#475569",cursor:"pointer",padding:"2px 8px",borderRadius:"4px",border:"1px solid #334155",marginLeft:"auto",userSelect:"none",flexShrink:0},title:"Click to unfreeze",children:"ðŸ”’ Frozen â€” click to unfreeze"}):o.jsx("span",{style:{fontFamily:v,fontSize:"10px",color:"#334155",marginLeft:"auto",flexShrink:0},children:"click to freeze"}),p=o.jsxs("a",{href:a.source,target:"_blank",rel:"noopener noreferrer",style:{fontFamily:v,fontSize:"11px",color:"#60A5FA",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"5px",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(96,165,250,0.2)",background:"rgba(96,165,250,0.06)",transition:"background 0.15s",flexShrink:0},onMouseEnter:d=>d.currentTarget.style.background="rgba(96,165,250,0.14)",onMouseLeave:d=>d.currentTarget.style.background="rgba(96,165,250,0.06)",onClick:d=>d.stopPropagation(),children:["ðŸ”— ",a.sourceLabel," ",o.jsx("span",{style:{opacity:.5},children:"â†—"})]});return e==="pct"?a.pctChange===null?null:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[o.jsxs("span",{style:{fontFamily:v,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",a.fy," ",o.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",a.fy-1,")"]})," vs FY ",a.fy-1," ",o.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",a.fy-2,")"]})]}),o.jsx("span",{style:{fontFamily:v,fontSize:"10px",color:$[a.mayor],background:`${$[a.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:a.mayor})]}),o.jsx("span",{style:{fontFamily:N,fontSize:"26px",fontWeight:700,color:s?"#34D399":"#F87171"},children:fe(a.pctChange)})]}),o.jsxs("div",{style:{fontFamily:v,fontSize:"12px",color:"#94A3B8",lineHeight:1.8},children:[o.jsx("span",{style:{color:"#64748B"},children:ye(a.raw-parseFloat(a.dollarChange)*1e9)}),o.jsx("span",{style:{color:"#475569",margin:"0 6px"},children:"â†’"}),o.jsx("span",{style:{color:"#CBD5E1"},children:ye(a.raw)}),o.jsxs("span",{style:{color:"#475569",marginLeft:"8px"},children:["(",$e(a.dollarChange),")"]})]}),p,l]}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[o.jsxs("span",{style:{fontFamily:v,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",a.fy," ",o.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",a.fy-1,")"]})]}),o.jsx("span",{style:{fontFamily:v,fontSize:"10px",color:$[a.mayor],background:`${$[a.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:a.mayor})]}),o.jsx("span",{style:{fontFamily:N,fontSize:"26px",color:"#F8FAFC",fontWeight:700},children:ye(a.raw)})]}),a.pctChange!==null&&o.jsxs("div",{style:{fontFamily:v,fontSize:"13px",fontWeight:700,color:s?"#34D399":"#F87171"},children:[s?"â–²":"â–¼"," ",fe(a.pctChange),o.jsxs("span",{style:{fontFamily:v,fontSize:"11px",color:"#64748B",fontWeight:400,marginLeft:"6px"},children:["(",$e(a.dollarChange),")"]})]}),p,l]})},nt=()=>null,gr=t=>{const{cx:e,cy:n,payload:r}=t;return!e||!n?null:o.jsx("circle",{cx:e,cy:n,r:3.5,fill:$[r.mayor]||"#94A3B8",stroke:"#0F172A",strokeWidth:1.5,style:{cursor:"pointer"}})},br=t=>{const{cx:e,cy:n,payload:r}=t;if(!e||!n)return null;const a=$[r.mayor]||"#94A3B8";return o.jsxs("g",{style:{cursor:"pointer"},children:[o.jsx("circle",{cx:e,cy:n,r:14,fill:a,opacity:.15}),o.jsx("circle",{cx:e,cy:n,r:8,fill:a,opacity:.3}),o.jsx("circle",{cx:e,cy:n,r:5,fill:a,stroke:"#F8FAFC",strokeWidth:2})]})},at=({value:t,onChange:e,options:n,label:r})=>o.jsxs("div",{children:[o.jsx("label",{style:{fontFamily:v,fontSize:"9px",color:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:r}),o.jsx("select",{value:t,onChange:a=>e(parseInt(a.target.value)),style:{fontFamily:v,fontSize:"11px",fontWeight:600,color:"#F8FAFC",background:"#1E293B",border:"1px solid #334155",borderRadius:"6px",padding:"6px 24px 6px 8px",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394A3B8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",outline:"none",transition:"border-color 0.15s",maxWidth:"100%"},onFocus:a=>a.target.style.borderColor="#60A5FA",onBlur:a=>a.target.style.borderColor="#334155",children:n.map(a=>o.jsxs("option",{value:a,children:["FY ",a," (P. ",a-1,")"]},a))})]});function vr(){const[t,e]=B.useState(2002),[n,r]=B.useState(2026),[a,s]=B.useState(null),[l,p]=B.useState(null),[d,f]=B.useState(null),[c,u]=B.useState(null),[y,h]=B.useState(null),[m,j]=B.useState(!1),g=B.useRef(null),S=B.useRef(null),w=B.useRef(null),b=i=>{if(i===null||i===a)s(null),e(2002),r(2026);else{s(i);const C=et.find(R=>R.name===i);C&&(e(C.start),r(C.end))}u(null),h(null)},A=c||l,F=y||d,k=ce.find(i=>i.fy===t),P=ce.find(i=>i.fy===n),O=n-t,E=k&&P?(P.raw-k.raw)/k.raw*100:0,z=k&&P?(P.raw-k.raw)/1e9:0,D=ce.filter(i=>i.fy>t&&i.fy<=n&&i.pctChange!==null),_=D.length>0?D.reduce((i,C)=>i+C.pctChange,0)/D.length:0,L=ce.filter(i=>i.fy>=t&&i.fy<=n),X=L.filter(i=>i.pctChange!==null),he=tt.filter(i=>i<n),Q=tt.filter(i=>i>t),At=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&p(i.activePayload[0].payload)},[]),jt=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&u(i.activePayload[0].payload)},[]),St=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&f(i.activePayload[0].payload)},[]),Ft=B.useCallback(i=>{i&&i.activePayload&&i.activePayload.length&&h(i.activePayload[0].payload)},[]),Te=L.map(i=>i.budget),Ie=Math.floor((Math.min(...Te)-5)/10)*10,Ye=Math.ceil((Math.max(...Te)+5)/10)*10,Re=[];for(let i=Ie;i<=Ye;i+=20)Re.push(i);const Ne=X.map(i=>i.pctChange),kt=Math.min(...Ne,0),Bt=Math.max(...Ne,5),ee=a?$[a]:"#D97706",We=window.location.href,me=B.useCallback(async(i,C,R)=>{if(!(!i.current||!w.current))try{const te=w.current.cloneNode(!0);te.style.marginBottom="24px",te.querySelectorAll("select").forEach(H=>{var Ke;const q=document.createElement("span");q.textContent=((Ke=H.options[H.selectedIndex])==null?void 0:Ke.text)||H.value,q.style.cssText=window.getComputedStyle(H).cssText,q.style.display="inline-block",q.style.appearance="none",q.style.webkitAppearance="none",q.style.color="#F8FAFC",H.parentNode.replaceChild(q,H)}),i.current.insertBefore(te,i.current.firstChild);const xe=i.current.querySelector("[data-detail-panel]");xe&&!R&&(xe.style.display="none");const le=await Ct(i.current,{backgroundColor:"#0F172A",scale:2,useCORS:!0,ignoreElements:H=>H.classList.contains("share-menu-controls")});i.current.removeChild(te),xe&&!R&&(xe.style.display="");const Ce=40,re=document.createElement("canvas");re.width=le.width,re.height=le.height+Ce*2;const K=re.getContext("2d");K.drawImage(le,0,0),K.fillStyle="#BE5343",K.fillRect(0,le.height,re.width,Ce*2),K.fillStyle="#FFFFFF",K.font="26px -apple-system, BlinkMacSystemFont, sans-serif",K.textAlign="center",K.textBaseline="middle",K.fillText(`Source: Maximum New York | maximumnewyork.com | ${We}`,re.width/2,le.height+Ce);const De=document.createElement("a");De.download=`${C}.png`,De.href=re.toDataURL("image/png"),De.click()}catch(te){console.error("Download failed:",te)}},[We]),Pt=B.useCallback(()=>{me(g,"nyc-total-budget-2002-2026",c)},[me,c]),Ot=B.useCallback(()=>{me(S,"nyc-budget-yoy-change-2002-2026",y)},[me,y]);return o.jsxs("div",{style:{background:"linear-gradient(145deg, #0B1120 0%, #111827 50%, #0F172A 100%)",minHeight:"100vh",padding:"40px 24px",fontFamily:"'Segoe UI', system-ui, sans-serif",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"radial-gradient(circle at 1px 1px, rgba(148,163,184,0.04) 1px, transparent 0)",backgroundSize:"32px 32px",pointerEvents:"none"}}),o.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto",position:"relative",zIndex:1},children:[o.jsxs("div",{ref:w,children:[o.jsxs("div",{style:{marginBottom:"36px"},children:[o.jsx("div",{style:{fontFamily:v,fontSize:"11px",color:"#D97706",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"10px",fontWeight:600},children:"Interactive Model | NYCâ€™s Budget from FY 2002 through 2026"}),o.jsx("h1",{style:{fontFamily:N,fontSize:"clamp(28px, 4vw, 42px)",color:"#F8FAFC",fontWeight:700,lineHeight:1.15,margin:"0 0 8px 0"},children:"NYCâ€™s Budget from FY 2002 through 2026"}),o.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"rgba(217,119,6,0.1)",border:"1px solid rgba(217,119,6,0.25)",borderRadius:"8px",padding:"8px 16px",marginBottom:"12px"},children:o.jsxs("span",{style:{fontFamily:v,fontSize:"12px",color:"#E2E8F0"},children:["Brought to you by"," ",o.jsx("a",{href:"https://maximumnewyork.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#D97706",textDecoration:"none",fontWeight:600,borderBottom:"1px solid rgba(217,119,6,0.4)"},onMouseEnter:i=>i.currentTarget.style.borderBottomColor="#D97706",onMouseLeave:i=>i.currentTarget.style.borderBottomColor="rgba(217,119,6,0.4)",children:"Maximum New York"})]})}),o.jsx("p",{style:{fontSize:"15px",color:"#64748B",margin:0,lineHeight:1.5,maxWidth:"650px"},children:"Total adopted expense budget by fiscal year, FY2002 (passed 2001) through FY2026 (passed 2025). Adjust the range below, hover for details, and click any data point to freeze the panel so you can click the source link."})]}),o.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[o.jsx("span",{style:{fontFamily:v,fontSize:"10px",color:"#536178",letterSpacing:"0.08em",textTransform:"uppercase",marginRight:"4px"},children:"Filter by Mayor"}),[{key:null,label:"All"},...et.filter(i=>i.name!=="Giuliani").map(i=>({key:i.name,label:i.name}))].map(i=>{const C=i.key===a,R=i.key?$[i.key]:"#94A3B8";return o.jsxs("button",{onClick:()=>i.key?b(i.key):b(null),style:{fontFamily:v,fontSize:"11px",fontWeight:C?700:500,color:C?"#F8FAFC":"#94A3B8",background:C?`${R}25`:"rgba(30,41,59,0.4)",border:`1px solid ${C?`${R}60`:"rgba(51,65,85,0.5)"}`,borderRadius:"8px",padding:"7px 16px",cursor:"pointer",transition:"all 0.2s",outline:"none",boxShadow:C?`0 0 12px ${R}20`:"none"},children:[i.key&&o.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:R,marginRight:7,verticalAlign:"middle",opacity:C?1:.5}}),i.label]},i.label)})]}),o.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"32px",flexWrap:"wrap",alignItems:"stretch"},children:[o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx(at,{value:t,onChange:i=>{e(i),s(null),u(null),h(null)},options:he,label:"Start"}),o.jsx("div",{style:{fontFamily:N,fontSize:"22px",fontWeight:700,color:"#94A3B8",lineHeight:1.2},children:k?ye(k.raw):"â€”"})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx(at,{value:n,onChange:i=>{r(i),s(null),u(null),h(null)},options:Q,label:"End"}),o.jsx("div",{style:{fontFamily:N,fontSize:"22px",fontWeight:700,color:ee,lineHeight:1.2},children:P?ye(P.raw):"â€”"})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${a?`${$[a]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[o.jsxs("div",{style:{fontFamily:v,fontSize:"9px",color:a?$[a]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:[a?`${a} `:"",O,"-Year Growth"]}),o.jsx("div",{style:{fontFamily:N,fontSize:"22px",fontWeight:700,color:E>=0?"#34D399":"#F87171",lineHeight:1.2},children:fe(E.toFixed(0))}),o.jsxs("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:[$e(z.toFixed(2))," total"]})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${a?`${$[a]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[o.jsx("div",{style:{fontFamily:v,fontSize:"9px",color:a?$[a]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:"Avg Annual Increase"}),o.jsx("div",{style:{fontFamily:N,fontSize:"22px",fontWeight:700,color:_>=0?"#60A5FA":"#F87171",lineHeight:1.2},children:fe(_.toFixed(1))}),o.jsx("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:"Mean YoY change"})]})]})]}),o.jsxs("div",{ref:g,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px",marginBottom:"40px"},children:[o.jsx(He,{chartRef:g,chartId:"nyc-total-budget-2002-2026",title:"NYC Total Adopted Budget FY2002â€“2026",dark:!0,onDownload:Pt}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",margin:"0 0 6px 0",flexWrap:"wrap"},children:[o.jsx("h2",{style:{fontFamily:N,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:0},children:"Total Adopted Budget"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginLeft:"auto",position:"relative"},children:[!m&&o.jsxs("div",{style:{position:"absolute",right:"100%",marginRight:"12px",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"6px",animation:"inflationPulse 2s ease-in-out infinite",pointerEvents:"none"},children:[o.jsx("span",{style:{fontFamily:v,fontSize:"11px",fontWeight:600,color:"#38BDF8",background:"rgba(56,189,248,0.1)",border:"1px solid rgba(56,189,248,0.25)",borderRadius:"6px",padding:"4px 10px"},children:"Overlay FY inflation rates!"}),o.jsx("span",{style:{color:"#38BDF8",fontSize:"14px"},children:"â†’"})]}),o.jsx("style",{children:"@keyframes inflationPulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }"}),o.jsx("span",{style:{fontFamily:v,fontSize:"10px",color:m?"#38BDF8":"#536178",letterSpacing:"0.08em",textTransform:"uppercase",transition:"color 0.2s",userSelect:"none"},children:"Show Inflation"}),o.jsx("button",{onClick:()=>j(!m),"aria-label":"Toggle inflation overlay",style:{width:"38px",height:"22px",borderRadius:"11px",background:m?"#38BDF8":"#334155",border:"1px solid "+(m?"#38BDF8":"#475569"),cursor:"pointer",position:"relative",transition:"all 0.2s",padding:0,flexShrink:0},children:o.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:"#F8FAFC",position:"absolute",top:"2px",left:m?"18px":"2px",transition:"left 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}})})]})]}),o.jsx("div",{"data-detail-panel":!0,style:{background:c?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${c?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:o.jsx(rt,{data:A,label:"budget",locked:!!c,onUnlock:()=>u(null)})}),o.jsxs("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{c||p(null)},children:[o.jsx(Ve,{width:"100%",height:380,children:o.jsxs(hr,{data:L,margin:{top:16,right:m?48:24,left:16,bottom:8},onMouseMove:c?void 0:At,onClick:jt,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:ee,stopOpacity:.25}),o.jsx("stop",{offset:"50%",stopColor:ee,stopOpacity:.08}),o.jsx("stop",{offset:"100%",stopColor:ee,stopOpacity:0})]})}),o.jsx(Ue,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),o.jsx(Se,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:v},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:i=>`'${String(i).slice(2)}`,interval:Math.max(1,Math.floor(L.length/14))}),o.jsx(de,{yAxisId:"left",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:v},tickLine:!1,axisLine:!1,tickFormatter:i=>`$${i}B`,domain:[Ie,Ye],ticks:Re}),m&&o.jsx(de,{yAxisId:"right",orientation:"right",stroke:"#334155",tick:{fill:"#38BDF8",fontSize:11,fontFamily:v},tickLine:!1,axisLine:!1,tickFormatter:i=>`${i}%`,domain:[0,7],ticks:[0,1,2,3,4,5,6,7]}),o.jsx(Je,{content:o.jsx(nt,{}),cursor:{stroke:"#475569",strokeWidth:1,strokeDasharray:"4 4"}}),[{x:2003,label:"Bloomberg"},{x:2015,label:"de Blasio"},{x:2023,label:"Adams"}].filter(i=>i.x>=t&&i.x<=n).map(i=>o.jsx(be,{x:i.x,yAxisId:"left",stroke:"rgba(148,163,184,0.15)",strokeDasharray:"6 4",label:{value:i.label,position:"top",fill:"#475569",fontSize:10,fontFamily:v}},i.x)),m&&o.jsx(je,{yAxisId:"right",dataKey:"inflationPct",fill:"#38BDF8",fillOpacity:.18,radius:[3,3,0,0],maxBarSize:24,isAnimationActive:!1}),o.jsx(U,{yAxisId:"left",type:"monotone",dataKey:"budget",stroke:ee,strokeWidth:2.5,fill:"url(#budgetGradient)",dot:o.jsx(gr,{}),activeDot:o.jsx(br,{})})]})}),m&&o.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",marginTop:"10px",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:v,fontSize:"10px",color:"#64748B"},children:[o.jsx("div",{style:{width:16,height:3,background:ee,borderRadius:"2px"}}),"Adopted budget (left axis)"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:v,fontSize:"10px",color:"#64748B"},children:[o.jsx("div",{style:{width:10,height:10,borderRadius:"2px",background:"#38BDF8",opacity:.3}}),"CPI inflation rate (right axis)"]})]})]}),o.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:v},children:[o.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link.",o.jsxs("span",{children:[" | ",o.jsx("strong",{style:{color:"#38BDF8"},children:"Inflation:"})," U.S. Bureau of Labor Statistics, CPI-U All Items, NYC Metro Area (1982-84=100), not seasonally adjusted. FY2026 data not yet available. ",o.jsx("a",{href:"/data/nyc_fy_inflation_data.csv",download:!0,style:{color:"#38BDF8",textDecoration:"none",borderBottom:"1px solid rgba(56,189,248,0.3)"},children:"Download inflation data (CSV)"})]})]})]}),o.jsxs("div",{ref:S,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px"},children:[o.jsx(He,{chartRef:S,chartId:"nyc-budget-yoy-change-2002-2026",title:"NYC Budget Year-over-Year Change FY2002â€“2026",dark:!0,onDownload:Ot}),o.jsx("h2",{style:{fontFamily:N,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 4px 0"},children:"Year-over-Year Change"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748B",margin:"0 0 6px 0"},children:"Percentage increase (or decrease) from the prior fiscal yearâ€™s adopted expense budget"}),o.jsx("div",{"data-detail-panel":!0,style:{background:y?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${y?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:o.jsx(rt,{data:F,label:"pct",locked:!!y,onUnlock:()=>h(null)})}),o.jsxs("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{y||f(null)},children:[o.jsx(Ve,{width:"100%",height:300,children:o.jsxs(yr,{data:X,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:y?void 0:St,onClick:Ft,children:[o.jsx(Ue,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),o.jsx(Se,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:v},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:i=>`'${String(i).slice(2)}`,interval:Math.max(1,Math.floor(X.length/14))}),o.jsx(de,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:v},tickLine:!1,axisLine:!1,tickFormatter:i=>`${i}%`,domain:[Math.floor(kt)-1,Math.ceil(Bt)+1]}),o.jsx(Je,{content:o.jsx(nt,{}),cursor:{fill:"rgba(148,163,184,0.06)"}}),o.jsx(be,{y:parseFloat(_.toFixed(1)),stroke:"#60A5FA",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:`Avg ${fe(_.toFixed(1))}`,position:"right",fill:"#60A5FA",fontSize:10,fontFamily:v}}),o.jsx(be,{y:0,stroke:"#475569",strokeWidth:1}),[{x:2003},{x:2015},{x:2023}].filter(i=>i.x>t&&i.x<=n).map(i=>o.jsx(be,{x:i.x,stroke:"rgba(148,163,184,0.12)",strokeDasharray:"6 4"},i.x)),o.jsx(je,{dataKey:"pctChange",radius:[4,4,0,0],maxBarSize:28,children:X.map((i,C)=>o.jsx(dt,{fill:i.pctChange<0?"#F87171":i.pctChange>7?"#34D399":i.pctChange>4?"#D97706":"#64748B",fillOpacity:.8},`cell-${C}`))})]})}),o.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginTop:"8px",flexWrap:"wrap"},children:[{color:"#F87171",label:"Decrease"},{color:"#64748B",label:"0â€“4%"},{color:"#D97706",label:"4â€“7%"},{color:"#34D399",label:"> 7%"},{color:"#60A5FA",label:"Average",dashed:!0}].map(i=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:v,fontSize:"10px",color:"#64748B"},children:[i.dashed?o.jsx("div",{style:{width:16,height:0,borderTop:`2px dashed ${i.color}`}}):o.jsx("div",{style:{width:10,height:10,borderRadius:"2px",background:i.color,opacity:.8}}),i.label]},i.label))})]}),o.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:v},children:[o.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link."]})]})]})]})}function Fr(){return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"NYC's Budget from FY 2002 through 2026"}),o.jsx("p",{className:"subtitle",children:"Total adopted expense budget by fiscal year, from FY2002 through FY2026. Filter by mayor, adjust the range, hover for details, and click any data point to freeze the panel and access source links."})]}),o.jsx(vr,{})]})}export{Fr as default};
