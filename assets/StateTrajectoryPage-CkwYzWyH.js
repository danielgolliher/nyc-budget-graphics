import{r as d,j as t}from"./index-KMj6Q8lL.js";import{S as v}from"./ShareMenu-DTuZGtDj.js";const R=r=>r>10?"up10":r>5?"up5":r>0?"up1":r===0?"none":r>-5?"down1":r>-10?"down5":"down10",W=[{state:"California",abbr:"CA",pop1960:15717,rank1960:2,pop2024:39538,rank2024:1},{state:"Texas",abbr:"TX",pop1960:9580,rank1960:6,pop2024:30504,rank2024:2},{state:"Florida",abbr:"FL",pop1960:4952,rank1960:10,pop2024:22611,rank2024:3},{state:"New York",abbr:"NY",pop1960:16782,rank1960:1,pop2024:19571,rank2024:4},{state:"Pennsylvania",abbr:"PA",pop1960:11319,rank1960:3,pop2024:12962,rank2024:5},{state:"Illinois",abbr:"IL",pop1960:10081,rank1960:4,pop2024:12550,rank2024:6},{state:"Ohio",abbr:"OH",pop1960:9706,rank1960:5,pop2024:11780,rank2024:7},{state:"Georgia",abbr:"GA",pop1960:3943,rank1960:15,pop2024:10912,rank2024:8},{state:"North Carolina",abbr:"NC",pop1960:4556,rank1960:12,pop2024:10835,rank2024:9},{state:"Michigan",abbr:"MI",pop1960:7823,rank1960:7,pop2024:10037,rank2024:10},{state:"New Jersey",abbr:"NJ",pop1960:6067,rank1960:8,pop2024:9290,rank2024:11},{state:"Virginia",abbr:"VA",pop1960:3967,rank1960:14,pop2024:8642,rank2024:12},{state:"Washington",abbr:"WA",pop1960:2853,rank1960:23,pop2024:7705,rank2024:13},{state:"Arizona",abbr:"AZ",pop1960:1302,rank1960:35,pop2024:7359,rank2024:14},{state:"Tennessee",abbr:"TN",pop1960:3567,rank1960:17,pop2024:7051,rank2024:15},{state:"Massachusetts",abbr:"MA",pop1960:5149,rank1960:9,pop2024:7001,rank2024:16},{state:"Indiana",abbr:"IN",pop1960:4662,rank1960:11,pop2024:6833,rank2024:17},{state:"Missouri",abbr:"MO",pop1960:4320,rank1960:13,pop2024:6178,rank2024:18},{state:"Maryland",abbr:"MD",pop1960:3101,rank1960:21,pop2024:6165,rank2024:19},{state:"Wisconsin",abbr:"WI",pop1960:3952,rank1960:16,pop2024:5893,rank2024:20},{state:"Colorado",abbr:"CO",pop1960:1754,rank1960:33,pop2024:5839,rank2024:21},{state:"Minnesota",abbr:"MN",pop1960:3414,rank1960:18,pop2024:5707,rank2024:22},{state:"South Carolina",abbr:"SC",pop1960:2383,rank1960:26,pop2024:5282,rank2024:23},{state:"Alabama",abbr:"AL",pop1960:3267,rank1960:19,pop2024:5024,rank2024:24},{state:"Louisiana",abbr:"LA",pop1960:3257,rank1960:20,pop2024:4624,rank2024:25},{state:"Kentucky",abbr:"KY",pop1960:3038,rank1960:22,pop2024:4526,rank2024:26},{state:"Oregon",abbr:"OR",pop1960:1769,rank1960:32,pop2024:4233,rank2024:27},{state:"Oklahoma",abbr:"OK",pop1960:2328,rank1960:27,pop2024:4019,rank2024:28},{state:"Connecticut",abbr:"CT",pop1960:2535,rank1960:25,pop2024:3606,rank2024:29},{state:"Utah",abbr:"UT",pop1960:891,rank1960:38,pop2024:3380,rank2024:30},{state:"Iowa",abbr:"IA",pop1960:2758,rank1960:24,pop2024:3191,rank2024:31},{state:"Nevada",abbr:"NV",pop1960:285,rank1960:49,pop2024:3194,rank2024:32},{state:"Arkansas",abbr:"AR",pop1960:1786,rank1960:31,pop2024:3045,rank2024:33},{state:"Mississippi",abbr:"MS",pop1960:2178,rank1960:29,pop2024:2940,rank2024:34},{state:"Kansas",abbr:"KS",pop1960:2179,rank1960:28,pop2024:2937,rank2024:35},{state:"New Mexico",abbr:"NM",pop1960:951,rank1960:37,pop2024:2114,rank2024:36},{state:"Nebraska",abbr:"NE",pop1960:1411,rank1960:34,pop2024:1967,rank2024:37},{state:"Idaho",abbr:"ID",pop1960:667,rank1960:42,pop2024:1964,rank2024:38},{state:"West Virginia",abbr:"WV",pop1960:1860,rank1960:30,pop2024:1770,rank2024:39},{state:"Hawaii",abbr:"HI",pop1960:633,rank1960:43,pop2024:1440,rank2024:40},{state:"New Hampshire",abbr:"NH",pop1960:607,rank1960:46,pop2024:1395,rank2024:41},{state:"Maine",abbr:"ME",pop1960:969,rank1960:36,pop2024:1385,rank2024:42},{state:"Montana",abbr:"MT",pop1960:675,rank1960:41,pop2024:1122,rank2024:43},{state:"Rhode Island",abbr:"RI",pop1960:859,rank1960:39,pop2024:1093,rank2024:44},{state:"Delaware",abbr:"DE",pop1960:446,rank1960:47,pop2024:1018,rank2024:45},{state:"South Dakota",abbr:"SD",pop1960:681,rank1960:40,pop2024:909,rank2024:46},{state:"North Dakota",abbr:"ND",pop1960:632,rank1960:44,pop2024:783,rank2024:47},{state:"Alaska",abbr:"AK",pop1960:226,rank1960:50,pop2024:733,rank2024:48},{state:"Vermont",abbr:"VT",pop1960:390,rank1960:48,pop2024:647,rank2024:49},{state:"Wyoming",abbr:"WY",pop1960:330,rank1960:45,pop2024:581,rank2024:50}],C=W.map(r=>{const c=Math.round((r.pop2024-r.pop1960)/r.pop1960*1e3)/10;return{...r,shift:r.rank1960-r.rank2024,pctChange:c,netVsUS:Math.round((c-87.3)*10)/10,category:R(r.rank1960-r.rank2024)}}),L=r=>r>=1e3?(r/1e3).toFixed(1)+"M":r+"K",$=[{key:"up10",label:"Climbed 10+",color:"#16a34a"},{key:"up5",label:"Climbed 5–9",color:"#4ade80"},{key:"up1",label:"Climbed 1–4",color:"#86efac"},{key:"none",label:"No change",color:"#94a3b8"},{key:"down1",label:"Fell 1–4",color:"#fca5a5"},{key:"down5",label:"Fell 5–9",color:"#f87171"},{key:"down10",label:"Fell 10+",color:"#dc2626"}],T={up10:"#16a34a",up5:"#4ade80",up1:"#86efac",none:"#94a3b8",down1:"#fca5a5",down5:"#f87171",down10:"#dc2626"};function z({data:r,hoveredState:c,setHoveredState:h,activeLegend:l}){const g=d.useRef(null),[i,u]=d.useState({width:700,height:1100});d.useEffect(()=>{var k;const e=(k=g.current)==null?void 0:k.parentElement;if(!e)return;const s=new ResizeObserver(y=>{const m=y[0].contentRect.width;u({width:Math.max(400,m),height:1100})});return s.observe(e),()=>s.disconnect()},[]);const p={top:50,bottom:20,left:150,right:150},j=i.width-p.left-p.right,a=(i.height-p.top-p.bottom)/50,n=e=>p.top+(e-1)*a+a/2,o=p.left,b=p.left+j,x=e=>T[e.category],S=e=>c?c===e.abbr:l?e.category===l:!1,A=c!==null||l!==null,w=c?r.find(e=>e.abbr===c):null;let N=null;if(w){const e=w,s=(o+b)/2,k=(n(e.rank1960)+n(e.rank2024))/2,y=220,m=92;let f=k-m/2;f<10&&(f=10),f+m>i.height-10&&(f=i.height-m-10),N=t.jsxs("g",{children:[t.jsx("rect",{x:s-y/2,y:f,width:y,height:m,rx:6,fill:"#1e293b",stroke:"#475569",strokeWidth:1}),t.jsx("text",{x:s,y:f+18,textAnchor:"middle",style:{fontSize:13,fontWeight:700,fill:"#f1f5f9",fontFamily:"'JetBrains Mono', monospace"},children:e.state}),t.jsx("text",{x:s,y:f+35,textAnchor:"middle",style:{fontSize:11,fill:"#94a3b8",fontFamily:"'JetBrains Mono', monospace"},children:`#${e.rank1960} (${L(e.pop1960)}) → #${e.rank2024} (${L(e.pop2024)})`}),t.jsx("text",{x:s,y:f+52,textAnchor:"middle",style:{fontSize:12,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",fill:e.shift>0?"#4ade80":e.shift<0?"#f87171":"#94a3b8"},children:e.shift>0?`▲ ${e.shift} ranks`:e.shift<0?`▼ ${Math.abs(e.shift)} ranks`:"— no change"}),t.jsx("text",{x:s,y:f+68,textAnchor:"middle",style:{fontSize:11,fill:"#38bdf8",fontFamily:"'JetBrains Mono', monospace"},children:`${e.pctChange>0?"+":""}${e.pctChange}% growth`}),t.jsx("text",{x:s,y:f+83,textAnchor:"middle",style:{fontSize:11,fontFamily:"'JetBrains Mono', monospace",fill:e.netVsUS>0?"#a78bfa":"#f97316"},children:`${e.netVsUS>0?"+":""}${e.netVsUS}% vs US avg`})]})}return t.jsx("div",{style:{width:"100%",overflowX:"auto"},children:t.jsxs("svg",{ref:g,width:i.width,height:i.height,style:{display:"block",margin:"0 auto"},children:[t.jsx("text",{x:o,y:p.top-24,textAnchor:"middle",style:{fontSize:15,fontWeight:700,fill:"#cbd5e1",fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.05em"},children:"1960"}),t.jsx("text",{x:b,y:p.top-24,textAnchor:"middle",style:{fontSize:15,fontWeight:700,fill:"#cbd5e1",fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.05em"},children:"2024"}),Array.from({length:50},(e,s)=>t.jsx("rect",{x:0,y:n(s+1)-a/2,width:i.width,height:a,fill:s%2===0?"transparent":"rgba(255,255,255,0.015)"},`stripe-${s}`)),r.map(e=>{const s=S(e),k=A?s?1:.06:.6,y=A&&s?4.5:3;return t.jsx("line",{x1:o+28,y1:n(e.rank1960),x2:b-28,y2:n(e.rank2024),stroke:x(e),strokeWidth:y,strokeLinecap:"round",opacity:k,style:{transition:"opacity 0.2s, stroke-width 0.2s"}},e.abbr)}),r.map(e=>{const s=S(e),k=A?s?1:.2:.9;return t.jsxs("g",{onMouseEnter:()=>h(e.abbr),onMouseLeave:()=>h(null),style:{cursor:"pointer"},children:[t.jsxs("text",{x:o-8,y:n(e.rank1960)+1,textAnchor:"end",dominantBaseline:"middle",style:{fontSize:11,fontFamily:"'JetBrains Mono', monospace",fill:s?"#f8fafc":"#94a3b8",fontWeight:s?700:400,opacity:k,transition:"all 0.2s"},children:[e.rank1960,". ",e.abbr]}),t.jsx("circle",{cx:o,cy:n(e.rank1960),r:s?5:3.5,fill:x(e),opacity:k,style:{transition:"all 0.2s"}})]},`left-${e.abbr}`)}),r.map(e=>{const s=S(e),k=A?s?1:.2:.9;return t.jsxs("g",{onMouseEnter:()=>h(e.abbr),onMouseLeave:()=>h(null),style:{cursor:"pointer"},children:[t.jsx("circle",{cx:b,cy:n(e.rank2024),r:s?5:3.5,fill:x(e),opacity:k,style:{transition:"all 0.2s"}}),t.jsxs("text",{x:b+8,y:n(e.rank2024)+1,textAnchor:"start",dominantBaseline:"middle",style:{fontSize:11,fontFamily:"'JetBrains Mono', monospace",fill:s?"#f8fafc":"#94a3b8",fontWeight:s?700:400,opacity:k,transition:"all 0.2s"},children:[e.rank2024,". ",e.abbr]})]},`right-${e.abbr}`)}),N]})})}const I=[{key:"state",label:"State",align:"left"},{key:"rank1960",label:"Rank 1960",align:"center"},{key:"pop1960",label:"Pop 1960",align:"right"},{key:"rank2024",label:"Rank 2024",align:"center"},{key:"pop2024",label:"Pop 2024",align:"right"},{key:"shift",label:"Shift",align:"center"},{key:"pctChange",label:"% Change",align:"right"}];function F({data:r,hoveredState:c,setHoveredState:h}){const[l,g]=d.useState("rank2024"),[i,u]=d.useState("asc"),p=a=>{l===a?u(n=>n==="asc"?"desc":"asc"):(g(a),u("asc"))},j=d.useMemo(()=>r.slice().sort((a,n)=>{const o=a[l],b=n[l];return typeof o=="string"?i==="asc"?o.localeCompare(b):b.localeCompare(o):i==="asc"?o-b:b-o}),[r,l,i]),M=a=>l!==a?" ↕":i==="asc"?" ↑":" ↓";return t.jsx("div",{className:"slope-table-wrap",children:t.jsxs("table",{className:"slope-table",children:[t.jsx("thead",{children:t.jsx("tr",{children:I.map(a=>t.jsxs("th",{onClick:()=>p(a.key),className:l===a.key?"active":"",style:{textAlign:a.align},children:[a.label,M(a.key)]},a.key))})}),t.jsx("tbody",{children:j.map((a,n)=>{const o=c===a.abbr;return t.jsxs("tr",{onMouseEnter:()=>h(a.abbr),onMouseLeave:()=>h(null),className:o?"hovered":"",style:{background:o?"rgba(59,130,246,0.12)":n%2===0?"transparent":"rgba(255,255,255,0.02)"},children:[t.jsx("td",{style:{fontWeight:o?600:400,color:"#e2e8f0"},children:a.state}),t.jsx("td",{style:{textAlign:"center",color:"#94a3b8"},children:a.rank1960}),t.jsx("td",{style:{textAlign:"right",color:"#94a3b8"},children:(a.pop1960*1e3).toLocaleString()}),t.jsx("td",{style:{textAlign:"center",color:"#cbd5e1"},children:a.rank2024}),t.jsx("td",{style:{textAlign:"right",color:"#cbd5e1"},children:(a.pop2024*1e3).toLocaleString()}),t.jsx("td",{style:{textAlign:"center"},children:t.jsx("span",{className:"shift-badge",style:{color:a.shift>0?"#4ade80":a.shift<0?"#f87171":"#64748b",background:a.shift>0?"rgba(74,222,128,0.1)":a.shift<0?"rgba(248,113,113,0.1)":"transparent"},children:a.shift>0?`+${a.shift}`:a.shift===0?"—":a.shift})}),t.jsx("td",{style:{textAlign:"right"},children:t.jsx("span",{className:"pct-badge",style:{color:"#38bdf8",background:a.pctChange>500?"rgba(56,189,248,0.12)":"transparent"},children:`${a.pctChange>0?"+":""}${a.pctChange}%`})})]},a.abbr)})})]})})}function E(){const[r,c]=d.useState(null),[h,l]=d.useState(null),[g,i]=d.useState(null),u=d.useRef(null),p=d.useRef(null),j=n=>{i(o=>o===n?null:n),l(o=>o===n?null:n)},M=n=>{g||l(n)},a=()=>{g||l(null)};return t.jsxs("div",{className:"page-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{children:"The Great Shuffle"}),t.jsx("p",{className:"subtitle",children:"U.S. State Population Rankings — 1960 vs. 2024. How states have risen and fallen in the national pecking order over six decades."})]}),t.jsxs("div",{className:"chart-card dark-card",ref:u,children:[t.jsx(v,{chartRef:u,chartId:"state-slope-chart",title:"The Great Shuffle — Slope Chart",dark:!0}),t.jsxs("div",{style:{textAlign:"center",marginBottom:12},children:[t.jsx("h2",{style:{color:"#f1f5f9",fontSize:22,fontWeight:300,letterSpacing:"-0.02em"},children:"Population Rank Changes"}),t.jsx("p",{style:{fontSize:14,color:"#64748b",marginTop:8},children:"U.S. State Population Rankings — 1960 vs. 2024"})]}),t.jsx("div",{className:"slope-legend-bar",children:$.map(n=>{const o=h===n.key,b=g===n.key,x=h!==null;return t.jsxs("button",{onClick:()=>j(n.key),onMouseEnter:()=>M(n.key),onMouseLeave:a,className:`slope-legend-btn${o?" active":""}${b?" locked":""}`,style:{borderColor:o?n.color:"transparent",background:o?n.color+"18":"rgba(255,255,255,0.03)",color:x&&!o?"#475569":"#94a3b8",opacity:x&&!o?.5:1,outlineColor:b?n.color:"transparent"},children:[t.jsx("span",{className:"slope-legend-swatch",style:{background:n.color,opacity:x&&!o?.3:1}}),n.label,o&&t.jsx("span",{style:{fontSize:10,color:n.color,marginLeft:2},children:` (${C.filter(S=>S.category===n.key).length})`})]},n.key)})}),t.jsx(z,{data:C,hoveredState:r,setHoveredState:c,activeLegend:h})]}),t.jsxs("div",{className:"chart-card dark-card",ref:p,children:[t.jsx(v,{chartRef:p,chartId:"state-rankings-table",title:"State Rankings Table",dark:!0}),t.jsxs("div",{style:{marginBottom:8},children:[t.jsx("h2",{style:{fontSize:18,fontWeight:500,color:"#cbd5e1"},children:"Rankings Table"}),t.jsx("p",{style:{fontSize:11,color:"#475569",marginTop:4},children:"Click any column header to sort. Shift = ranks gained (+) or lost (−). % Change = population growth since 1960."})]}),t.jsx(F,{data:C,hoveredState:r,setHoveredState:c}),t.jsx("p",{className:"chart-source",style:{textAlign:"center",marginTop:32},children:"Sources: 1960 U.S. Census · 2024 Census Bureau Estimates (in thousands)"})]})]})}export{E as default};
