import{R as g,r as O,j as a}from"./index-D9-pP9kO.js";import{f as H,L as J,H as te,o as V,C as ie,A as We,m as G,j as he,I as Re,n as xe,c as Ce,J as Te,q as Ne,u as $e,i as se,G as Ie,k as ye,K as me,D as He,z as Oe,M as Pe,N as Me,R as ge,E as be,O as ae,v as Ge}from"./generateCategoricalChart-JLPoLeX0.js";import{X as re,Y as oe,C as ve}from"./YAxis-DoHEheW-.js";import{S as Ve}from"./ShareMenu-BWJ7gD6J.js";var Ke=["layout","type","stroke","connectNulls","isRange","ref"],Xe=["key"],Le;function K(e){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},K(e)}function De(e,r){if(e==null)return{};var n=Je(e,r),i,t;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)i=s[t],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Je(e,r){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(r.indexOf(i)>=0)continue;n[i]=e[i]}return n}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$.apply(this,arguments)}function we(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?we(Object(n),!0).forEach(function(i){z(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ue(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ae(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ye(i.key),i)}}function qe(e,r,n){return r&&Ae(e.prototype,r),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qe(e,r,n){return r=ne(r),Ze(e,ze()?Reflect.construct(r,n||[],ne(e).constructor):r.apply(e,n))}function Ze(e,r){if(r&&(K(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return et(e)}function et(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ze=function(){return!!e})()}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ne(e)}function tt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&le(e,r)}function le(e,r){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,t){return i.__proto__=t,i},le(e,r)}function z(e,r,n){return r=Ye(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ye(e){var r=at(e,"string");return K(r)=="symbol"?r:r+""}function at(e,r){if(K(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r);if(K(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var W=(function(e){function r(){var n;Ue(this,r);for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return n=Qe(this,r,[].concat(t)),z(n,"state",{isAnimationFinished:!0}),z(n,"id",$e("recharts-area-")),z(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),se(l)&&l()}),z(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),se(l)&&l()}),n}return tt(r,e),qe(r,[{key:"renderDots",value:function(i,t,s){var l=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(l&&!d)return null;var c=this.props,p=c.dot,f=c.points,u=c.dataKey,h=H(this.props,!1),v=H(p,!0),F=f.map(function(A,j){var y=_(_(_({key:"dot-".concat(j),r:3},h),v),{},{index:j,cx:A.x,cy:A.y,dataKey:u,value:A.value,payload:A.payload,points:f});return r.renderDotItem(p,y)}),B={clipPath:i?"url(#clipPath-".concat(t?"":"dots-").concat(s,")"):null};return g.createElement(J,$({className:"recharts-area-dots"},B),F)}},{key:"renderHorizontalRect",value:function(i){var t=this.props,s=t.baseLine,l=t.points,d=t.strokeWidth,c=l[0].x,p=l[l.length-1].x,f=i*Math.abs(c-p),u=te(l.map(function(h){return h.y||0}));return V(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(te(s.map(function(h){return h.y||0})),u)),V(u)?g.createElement("rect",{x:c<p?c:c-f,y:0,width:f,height:Math.floor(u+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(i){var t=this.props,s=t.baseLine,l=t.points,d=t.strokeWidth,c=l[0].y,p=l[l.length-1].y,f=i*Math.abs(c-p),u=te(l.map(function(h){return h.x||0}));return V(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(te(s.map(function(h){return h.x||0})),u)),V(u)?g.createElement("rect",{x:0,y:c<p?c:c-f,width:u+(d?parseInt("".concat(d),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(i){var t=this.props.layout;return t==="vertical"?this.renderVerticalRect(i):this.renderHorizontalRect(i)}},{key:"renderAreaStatically",value:function(i,t,s,l){var d=this.props,c=d.layout,p=d.type,f=d.stroke,u=d.connectNulls,h=d.isRange;d.ref;var v=De(d,Ke);return g.createElement(J,{clipPath:s?"url(#clipPath-".concat(l,")"):null},g.createElement(ie,$({},H(v,!0),{points:i,connectNulls:u,type:p,baseLine:t,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&g.createElement(ie,$({},H(this.props,!1),{className:"recharts-area-curve",layout:c,type:p,connectNulls:u,fill:"none",points:i})),f!=="none"&&h&&g.createElement(ie,$({},H(this.props,!1),{className:"recharts-area-curve",layout:c,type:p,connectNulls:u,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(i,t){var s=this,l=this.props,d=l.points,c=l.baseLine,p=l.isAnimationActive,f=l.animationBegin,u=l.animationDuration,h=l.animationEasing,v=l.animationId,F=this.state,B=F.prevPoints,A=F.prevBaseLine;return g.createElement(We,{begin:f,duration:u,isActive:p,easing:h,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(B){var L=B.length/d.length,m=d.map(function(k,M){var Y=Math.floor(M*L);if(B[Y]){var D=B[Y],R=G(D.x,k.x),T=G(D.y,k.y);return _(_({},k),{},{x:R(y),y:T(y)})}return k}),b;if(V(c)&&typeof c=="number"){var w=G(A,c);b=w(y)}else if(he(c)||Re(c)){var S=G(A,0);b=S(y)}else b=c.map(function(k,M){var Y=Math.floor(M*L);if(A[Y]){var D=A[Y],R=G(D.x,k.x),T=G(D.y,k.y);return _(_({},k),{},{x:R(y),y:T(y)})}return k});return s.renderAreaStatically(m,b,i,t)}return g.createElement(J,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(t)},s.renderClipRect(y))),g.createElement(J,{clipPath:"url(#animationClipPath-".concat(t,")")},s.renderAreaStatically(d,c,i,t)))})}},{key:"renderArea",value:function(i,t){var s=this.props,l=s.points,d=s.baseLine,c=s.isAnimationActive,p=this.state,f=p.prevPoints,u=p.prevBaseLine,h=p.totalLength;return c&&l&&l.length&&(!f&&h>0||!xe(f,l)||!xe(u,d))?this.renderAreaWithAnimation(i,t):this.renderAreaStatically(l,d,i,t)}},{key:"render",value:function(){var i,t=this.props,s=t.hide,l=t.dot,d=t.points,c=t.className,p=t.top,f=t.left,u=t.xAxis,h=t.yAxis,v=t.width,F=t.height,B=t.isAnimationActive,A=t.id;if(s||!d||!d.length)return null;var j=this.state.isAnimationFinished,y=d.length===1,L=Ce("recharts-area",c),m=u&&u.allowDataOverflow,b=h&&h.allowDataOverflow,w=m||b,S=he(A)?this.id:A,k=(i=H(l,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},M=k.r,Y=M===void 0?3:M,D=k.strokeWidth,R=D===void 0?2:D,T=Te(l)?l:{},Z=T.clipDot,ee=Z===void 0?!0:Z,N=Y*2+R;return g.createElement(J,{className:L},m||b?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(S)},g.createElement("rect",{x:m?f:f-v/2,y:b?p:p-F/2,width:m?v:v*2,height:b?F:F*2})),!ee&&g.createElement("clipPath",{id:"clipPath-dots-".concat(S)},g.createElement("rect",{x:f-N/2,y:p-N/2,width:v+N,height:F+N}))):null,y?null:this.renderArea(w,S),(l||y)&&this.renderDots(w,ee,S),(!B||j)&&Ne.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(i,t){return i.animationId!==t.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,curBaseLine:i.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:i.points!==t.curPoints||i.baseLine!==t.curBaseLine?{curPoints:i.points,curBaseLine:i.baseLine}:null}}])})(O.PureComponent);Le=W;z(W,"displayName","Area");z(W,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ie.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});z(W,"getBaseValue",function(e,r,n,i){var t=e.layout,s=e.baseValue,l=r.props.baseValue,d=l??s;if(V(d)&&typeof d=="number")return d;var c=t==="horizontal"?i:n,p=c.scale.domain();if(c.type==="number"){var f=Math.max(p[0],p[1]),u=Math.min(p[0],p[1]);return d==="dataMin"?u:d==="dataMax"||f<0?f:Math.max(Math.min(p[0],p[1]),0)}return d==="dataMin"?p[0]:d==="dataMax"?p[1]:p[0]});z(W,"getComposedData",function(e){var r=e.props,n=e.item,i=e.xAxis,t=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,d=e.bandSize,c=e.dataKey,p=e.stackedData,f=e.dataStartIndex,u=e.displayedData,h=e.offset,v=r.layout,F=p&&p.length,B=Le.getBaseValue(r,n,i,t),A=v==="horizontal",j=!1,y=u.map(function(m,b){var w;F?w=p[f+b]:(w=ye(m,c),Array.isArray(w)?j=!0:w=[B,w]);var S=w[1]==null||F&&ye(m,c)==null;return A?{x:me({axis:i,ticks:s,bandSize:d,entry:m,index:b}),y:S?null:t.scale(w[1]),value:w,payload:m}:{x:S?null:i.scale(w[1]),y:me({axis:t,ticks:l,bandSize:d,entry:m,index:b}),value:w,payload:m}}),L;return F||j?L=y.map(function(m){var b=Array.isArray(m.value)?m.value[0]:null;return A?{x:m.x,y:b!=null&&m.y!=null?t.scale(b):null}:{x:b!=null?i.scale(b):null,y:m.y}}):L=A?t.scale(B):i.scale(B),_({points:y,baseLine:L,layout:v,isRange:j},h)});z(W,"renderDotItem",function(e,r){var n;if(g.isValidElement(e))n=g.cloneElement(e,r);else if(se(e))n=e(r);else{var i=Ce("recharts-area-dot",typeof e!="boolean"?e.className:""),t=r.key,s=De(r,Xe);n=g.createElement(He,$({},s,{key:t,className:i}))}return n});var rt=Oe({chartName:"BarChart",GraphicalChild:Pe,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:re},{axisType:"yAxis",AxisComp:oe}],formatAxisMap:Me}),ot=Oe({chartName:"AreaChart",GraphicalChild:W,axisComponents:[{axisType:"xAxis",AxisComp:re},{axisType:"yAxis",AxisComp:oe}],formatAxisMap:Me});const nt=[{fy:2002,raw:39698060747,mayor:"Giuliani",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2003,raw:42342693648,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2004,raw:43658214665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2005,raw:47209537582,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2006,raw:50187618768,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2007,raw:52940235260,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2008,raw:58964853062,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2009,raw:59169332665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2010,raw:59479863786,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2011,raw:63077044552,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2012,raw:65910705998,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2013,raw:68501044477,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2014,raw:69916832926,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2015,raw:75026906545,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2016,raw:78528034085,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2017,raw:82115790244,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2018,raw:85238681837,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2019,raw:89158064224,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2020,raw:92771874627,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2021,raw:88191953188,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2022,raw:98723402321,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2023,raw:101123813371,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2024,raw:107114535200,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6-23.pdf",sourceLabel:"OMB FY23 Adopted"},{fy:2025,raw:112431582240,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"},{fy:2026,raw:115907309727,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"}],U=nt.map((e,r,n)=>{const i=e.raw/1e9,t=r>0?n[r-1].raw:null,s=t!==null?parseFloat(((e.raw-t)/t*100).toFixed(1)):null,l=t!==null?((e.raw-t)/1e9).toFixed(2):null;return{...e,budget:i,pctChange:s,dollarChange:l}}),P={Giuliani:"#6B7280",Bloomberg:"#2563EB","de Blasio":"#059669",Adams:"#D97706"},je=[{name:"Giuliani",start:2002,end:2002},{name:"Bloomberg",start:2003,end:2014},{name:"de Blasio",start:2015,end:2022},{name:"Adams",start:2023,end:2026}],ke=U.map(e=>e.fy),x="'JetBrains Mono', monospace",E="'Playfair Display', Georgia, serif",q=(e,r="%")=>{const n=parseFloat(e);return isNaN(n)?"â€”":`${n>0?"+":n<0?"âˆ’":""}${Math.abs(n)}${r}`},Q=e=>`$${(e/1e9).toFixed(2)}B`,ce=e=>{const r=parseFloat(e);return isNaN(r)?"â€”":`${r>0?"+":r<0?"âˆ’":""}$${Math.abs(r).toFixed(2)}B`},Fe=({data:e,label:r,locked:n,onUnlock:i})=>{if(!e)return a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontFamily:x,fontSize:"11px",color:"#475569",minHeight:"48px"},children:r==="budget"?"Hover over the chart to see details â€¢ Click to freeze":"Hover over a bar to see details â€¢ Click to freeze"});const t=e,s=t.pctChange!==null&&t.pctChange>=0,l=n?a.jsx("span",{onClick:c=>{c.stopPropagation(),i()},style:{fontFamily:x,fontSize:"10px",color:"#475569",cursor:"pointer",padding:"2px 8px",borderRadius:"4px",border:"1px solid #334155",marginLeft:"auto",userSelect:"none",flexShrink:0},title:"Click to unfreeze",children:"ðŸ”’ Frozen â€” click to unfreeze"}):a.jsx("span",{style:{fontFamily:x,fontSize:"10px",color:"#334155",marginLeft:"auto",flexShrink:0},children:"click to freeze"}),d=a.jsxs("a",{href:t.source,target:"_blank",rel:"noopener noreferrer",style:{fontFamily:x,fontSize:"11px",color:"#60A5FA",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"5px",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(96,165,250,0.2)",background:"rgba(96,165,250,0.06)",transition:"background 0.15s",flexShrink:0},onMouseEnter:c=>c.currentTarget.style.background="rgba(96,165,250,0.14)",onMouseLeave:c=>c.currentTarget.style.background="rgba(96,165,250,0.06)",onClick:c=>c.stopPropagation(),children:["ðŸ”— ",t.sourceLabel," ",a.jsx("span",{style:{opacity:.5},children:"â†—"})]});return r==="pct"?t.pctChange===null?null:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[a.jsxs("span",{style:{fontFamily:x,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",t.fy," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",t.fy-1,")"]})," vs FY ",t.fy-1," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",t.fy-2,")"]})]}),a.jsx("span",{style:{fontFamily:x,fontSize:"10px",color:P[t.mayor],background:`${P[t.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:t.mayor})]}),a.jsx("span",{style:{fontFamily:E,fontSize:"26px",fontWeight:700,color:s?"#34D399":"#F87171"},children:q(t.pctChange)})]}),a.jsxs("div",{style:{fontFamily:x,fontSize:"12px",color:"#94A3B8",lineHeight:1.8},children:[a.jsx("span",{style:{color:"#64748B"},children:Q(t.raw-parseFloat(t.dollarChange)*1e9)}),a.jsx("span",{style:{color:"#475569",margin:"0 6px"},children:"â†’"}),a.jsx("span",{style:{color:"#CBD5E1"},children:Q(t.raw)}),a.jsxs("span",{style:{color:"#475569",marginLeft:"8px"},children:["(",ce(t.dollarChange),")"]})]}),d,l]}):a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[a.jsxs("span",{style:{fontFamily:x,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",t.fy," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",t.fy-1,")"]})]}),a.jsx("span",{style:{fontFamily:x,fontSize:"10px",color:P[t.mayor],background:`${P[t.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:t.mayor})]}),a.jsx("span",{style:{fontFamily:E,fontSize:"26px",color:"#F8FAFC",fontWeight:700},children:Q(t.raw)})]}),t.pctChange!==null&&a.jsxs("div",{style:{fontFamily:x,fontSize:"13px",fontWeight:700,color:s?"#34D399":"#F87171"},children:[s?"â–²":"â–¼"," ",q(t.pctChange),a.jsxs("span",{style:{fontFamily:x,fontSize:"11px",color:"#64748B",fontWeight:400,marginLeft:"6px"},children:["(",ce(t.dollarChange),")"]})]}),d,l]})},Be=()=>null,it=e=>{const{cx:r,cy:n,payload:i}=e;return!r||!n?null:a.jsx("circle",{cx:r,cy:n,r:3.5,fill:P[i.mayor]||"#94A3B8",stroke:"#0F172A",strokeWidth:1.5,style:{cursor:"pointer"}})},st=e=>{const{cx:r,cy:n,payload:i}=e;if(!r||!n)return null;const t=P[i.mayor]||"#94A3B8";return a.jsxs("g",{style:{cursor:"pointer"},children:[a.jsx("circle",{cx:r,cy:n,r:14,fill:t,opacity:.15}),a.jsx("circle",{cx:r,cy:n,r:8,fill:t,opacity:.3}),a.jsx("circle",{cx:r,cy:n,r:5,fill:t,stroke:"#F8FAFC",strokeWidth:2})]})},Se=({value:e,onChange:r,options:n,label:i})=>a.jsxs("div",{children:[a.jsx("label",{style:{fontFamily:x,fontSize:"9px",color:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:i}),a.jsx("select",{value:e,onChange:t=>r(parseInt(t.target.value)),style:{fontFamily:x,fontSize:"11px",fontWeight:600,color:"#F8FAFC",background:"#1E293B",border:"1px solid #334155",borderRadius:"6px",padding:"6px 24px 6px 8px",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394A3B8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",outline:"none",transition:"border-color 0.15s",maxWidth:"100%"},onFocus:t=>t.target.style.borderColor="#60A5FA",onBlur:t=>t.target.style.borderColor="#334155",children:n.map(t=>a.jsxs("option",{value:t,children:["FY ",t," (P. ",t-1,")"]},t))})]});function lt(){const[e,r]=O.useState(2002),[n,i]=O.useState(2026),[t,s]=O.useState(null),[l,d]=O.useState(null),[c,p]=O.useState(null),[f,u]=O.useState(null),[h,v]=O.useState(null),F=o=>{if(o===null||o===t)s(null),r(2002),i(2026);else{s(o);const C=je.find(I=>I.name===o);C&&(r(C.start),i(C.end))}u(null),v(null)},B=f||l,A=h||c,j=U.find(o=>o.fy===e),y=U.find(o=>o.fy===n),L=n-e,m=j&&y?(y.raw-j.raw)/j.raw*100:0,b=j&&y?(y.raw-j.raw)/1e9:0,w=U.filter(o=>o.fy>e&&o.fy<=n&&o.pctChange!==null),S=w.length>0?w.reduce((o,C)=>o+C.pctChange,0)/w.length:0,k=U.filter(o=>o.fy>=e&&o.fy<=n),M=k.filter(o=>o.pctChange!==null),Y=ke.filter(o=>o<n),D=ke.filter(o=>o>e),R=O.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&d(o.activePayload[0].payload)},[]),T=O.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&u(o.activePayload[0].payload)},[]),Z=O.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&p(o.activePayload[0].payload)},[]),ee=O.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&v(o.activePayload[0].payload)},[]),N=k.map(o=>o.budget),de=Math.floor((Math.min(...N)-5)/10)*10,pe=Math.ceil((Math.max(...N)+5)/10)*10,ue=[];for(let o=de;o<=pe;o+=20)ue.push(o);const fe=M.map(o=>o.pctChange),Ee=Math.min(...fe,0),_e=Math.max(...fe,5),X=t?P[t]:"#D97706";return a.jsxs("div",{style:{background:"linear-gradient(145deg, #0B1120 0%, #111827 50%, #0F172A 100%)",minHeight:"100vh",padding:"40px 24px",fontFamily:"'Segoe UI', system-ui, sans-serif",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"radial-gradient(circle at 1px 1px, rgba(148,163,184,0.04) 1px, transparent 0)",backgroundSize:"32px 32px",pointerEvents:"none"}}),a.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto",position:"relative",zIndex:1},children:[a.jsxs("div",{style:{marginBottom:"36px"},children:[a.jsx("div",{style:{fontFamily:x,fontSize:"11px",color:"#D97706",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"10px",fontWeight:600},children:"Interactive Model | NYCâ€™s Budget from FY 2002 through 2026"}),a.jsx("h1",{style:{fontFamily:E,fontSize:"clamp(28px, 4vw, 42px)",color:"#F8FAFC",fontWeight:700,lineHeight:1.15,margin:"0 0 8px 0"},children:"NYCâ€™s Budget from FY 2002 through 2026"}),a.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"rgba(217,119,6,0.1)",border:"1px solid rgba(217,119,6,0.25)",borderRadius:"8px",padding:"8px 16px",marginBottom:"12px"},children:a.jsxs("span",{style:{fontFamily:x,fontSize:"12px",color:"#E2E8F0"},children:["Brought to you by"," ",a.jsx("a",{href:"https://maximumnewyork.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#D97706",textDecoration:"none",fontWeight:600,borderBottom:"1px solid rgba(217,119,6,0.4)"},onMouseEnter:o=>o.currentTarget.style.borderBottomColor="#D97706",onMouseLeave:o=>o.currentTarget.style.borderBottomColor="rgba(217,119,6,0.4)",children:"Maximum New York"})]})}),a.jsx("p",{style:{fontSize:"15px",color:"#64748B",margin:0,lineHeight:1.5,maxWidth:"650px"},children:"Total adopted expense budget by fiscal year, FY2002 (passed 2001) through FY2026 (passed 2025). Adjust the range below, hover for details, and click any data point to freeze the panel so you can click the source link."})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[a.jsx("span",{style:{fontFamily:x,fontSize:"10px",color:"#536178",letterSpacing:"0.08em",textTransform:"uppercase",marginRight:"4px"},children:"Filter by Mayor"}),[{key:null,label:"All"},...je.filter(o=>o.name!=="Giuliani").map(o=>({key:o.name,label:o.name}))].map(o=>{const C=o.key===t,I=o.key?P[o.key]:"#94A3B8";return a.jsxs("button",{onClick:()=>o.key?F(o.key):F(null),style:{fontFamily:x,fontSize:"11px",fontWeight:C?700:500,color:C?"#F8FAFC":"#94A3B8",background:C?`${I}25`:"rgba(30,41,59,0.4)",border:`1px solid ${C?`${I}60`:"rgba(51,65,85,0.5)"}`,borderRadius:"8px",padding:"7px 16px",cursor:"pointer",transition:"all 0.2s",outline:"none",boxShadow:C?`0 0 12px ${I}20`:"none"},children:[o.key&&a.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:I,marginRight:7,verticalAlign:"middle",opacity:C?1:.5}}),o.label]},o.label)})]}),a.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"32px",flexWrap:"wrap",alignItems:"stretch"},children:[a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[a.jsx(Se,{value:e,onChange:o=>{r(o),s(null),u(null),v(null)},options:Y,label:"Start"}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:"#94A3B8",lineHeight:1.2},children:j?Q(j.raw):"â€”"})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[a.jsx(Se,{value:n,onChange:o=>{i(o),s(null),u(null),v(null)},options:D,label:"End"}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:X,lineHeight:1.2},children:y?Q(y.raw):"â€”"})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${t?`${P[t]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[a.jsxs("div",{style:{fontFamily:x,fontSize:"9px",color:t?P[t]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:[t?`${t} `:"",L,"-Year Growth"]}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:m>=0?"#34D399":"#F87171",lineHeight:1.2},children:q(m.toFixed(0))}),a.jsxs("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:[ce(b.toFixed(2))," total"]})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${t?`${P[t]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[a.jsx("div",{style:{fontFamily:x,fontSize:"9px",color:t?P[t]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:"Avg Annual Increase"}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:S>=0?"#60A5FA":"#F87171",lineHeight:1.2},children:q(S.toFixed(1))}),a.jsx("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:"Mean YoY change"})]})]}),a.jsx("h2",{style:{fontFamily:E,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 6px 0"},children:"Total Adopted Budget"}),a.jsx("div",{style:{background:f?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${f?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:a.jsx(Fe,{data:B,label:"budget",locked:!!f,onUnlock:()=>u(null)})}),a.jsx("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{f||d(null)},children:a.jsx(ge,{width:"100%",height:380,children:a.jsxs(ot,{data:k,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:f?void 0:R,onClick:T,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:X,stopOpacity:.25}),a.jsx("stop",{offset:"50%",stopColor:X,stopOpacity:.08}),a.jsx("stop",{offset:"100%",stopColor:X,stopOpacity:0})]})}),a.jsx(ve,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),a.jsx(re,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:x},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:o=>`'${String(o).slice(2)}`,interval:Math.max(1,Math.floor(k.length/14))}),a.jsx(oe,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:x},tickLine:!1,axisLine:!1,tickFormatter:o=>`$${o}B`,domain:[de,pe],ticks:ue}),a.jsx(be,{content:a.jsx(Be,{}),cursor:{stroke:"#475569",strokeWidth:1,strokeDasharray:"4 4"}}),[{x:2003,label:"Bloomberg"},{x:2015,label:"de Blasio"},{x:2023,label:"Adams"}].filter(o=>o.x>=e&&o.x<=n).map(o=>a.jsx(ae,{x:o.x,stroke:"rgba(148,163,184,0.15)",strokeDasharray:"6 4",label:{value:o.label,position:"top",fill:"#475569",fontSize:10,fontFamily:x}},o.x)),a.jsx(W,{type:"monotone",dataKey:"budget",stroke:X,strokeWidth:2.5,fill:"url(#budgetGradient)",dot:a.jsx(it,{}),activeDot:a.jsx(st,{})})]})})}),a.jsxs("div",{style:{marginTop:"40px"},children:[a.jsx("h2",{style:{fontFamily:E,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 4px 0"},children:"Year-over-Year Change"}),a.jsx("p",{style:{fontSize:"13px",color:"#64748B",margin:"0 0 6px 0"},children:"Percentage increase (or decrease) from the prior fiscal year's adopted expense budget"})]}),a.jsx("div",{style:{background:h?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${h?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:a.jsx(Fe,{data:A,label:"pct",locked:!!h,onUnlock:()=>v(null)})}),a.jsxs("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{h||p(null)},children:[a.jsx(ge,{width:"100%",height:300,children:a.jsxs(rt,{data:M,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:h?void 0:Z,onClick:ee,children:[a.jsx(ve,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),a.jsx(re,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:x},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:o=>`'${String(o).slice(2)}`,interval:Math.max(1,Math.floor(M.length/14))}),a.jsx(oe,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:x},tickLine:!1,axisLine:!1,tickFormatter:o=>`${o}%`,domain:[Math.floor(Ee)-1,Math.ceil(_e)+1]}),a.jsx(be,{content:a.jsx(Be,{}),cursor:{fill:"rgba(148,163,184,0.06)"}}),a.jsx(ae,{y:parseFloat(S.toFixed(1)),stroke:"#60A5FA",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:`Avg ${q(S.toFixed(1))}`,position:"right",fill:"#60A5FA",fontSize:10,fontFamily:x}}),a.jsx(ae,{y:0,stroke:"#475569",strokeWidth:1}),[{x:2003},{x:2015},{x:2023}].filter(o=>o.x>e&&o.x<=n).map(o=>a.jsx(ae,{x:o.x,stroke:"rgba(148,163,184,0.12)",strokeDasharray:"6 4"},o.x)),a.jsx(Pe,{dataKey:"pctChange",radius:[4,4,0,0],maxBarSize:28,children:M.map((o,C)=>a.jsx(Ge,{fill:o.pctChange<0?"#F87171":o.pctChange>7?"#34D399":o.pctChange>4?"#D97706":"#64748B",fillOpacity:.8},`cell-${C}`))})]})}),a.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginTop:"8px",flexWrap:"wrap"},children:[{color:"#F87171",label:"Decrease"},{color:"#64748B",label:"0â€“4%"},{color:"#D97706",label:"4â€“7%"},{color:"#34D399",label:"> 7%"},{color:"#60A5FA",label:"Average",dashed:!0}].map(o=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:x,fontSize:"10px",color:"#64748B"},children:[o.dashed?a.jsx("div",{style:{width:16,height:0,borderTop:`2px dashed ${o.color}`}}):a.jsx("div",{style:{width:10,height:10,borderRadius:"2px",background:o.color,opacity:.8}}),o.label]},o.label))})]}),a.jsxs("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:x},children:[a.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayor's Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above each chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link."]})]})]})}function ft(){const e=O.useRef(null);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"NYC's Budget from FY 2002 through 2026"}),a.jsx("p",{className:"subtitle",children:"Total adopted expense budget by fiscal year, from FY2002 through FY2026. Filter by mayor, adjust the range, hover for details, and click any data point to freeze the panel and access source links."})]}),a.jsxs("div",{className:"chart-card dark-card",ref:e,children:[a.jsx(Ve,{chartRef:e,chartId:"nyc-budget-2002-2026",title:"NYC's Budget from FY 2002 through 2026",dark:!0}),a.jsx(lt,{})]})]})}export{ft as default};
