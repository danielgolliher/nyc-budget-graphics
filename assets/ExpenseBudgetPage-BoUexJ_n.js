import{R as d,g as Me,r as _,j as u}from"./index-DW-Y_ZZU.js";import{S as tt}from"./ShareMenu-BuUJ_0cA.js";import{c as N,f as O,r as Ke,a as nt,b as He,d as at,i as F,T as be,p as C,L as R,g as qe,e as Ae,h as Ve,D as rt,C as it,j as W,k as H,S as ot,A as st,l as lt,m as ke,n as ct,o as q,q as ut,u as ft,G as mt,s as ne,t as vt,v as Ye,w as dt,x as ee,y as je,z as pt,B as ht,R as yt,E as gt,F as Se}from"./generateCategoricalChart-CP4VFVcK.js";var bt=["points","className","baseLinePoints","connectNulls"];function V(){return V=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},V.apply(this,arguments)}function At(n,e){if(n==null)return{};var a=xt(n,e),t,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function xt(n,e){if(n==null)return{};var a={};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;a[t]=n[t]}return a}function we(n){return jt(n)||kt(n)||Ot(n)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(n,e){if(n){if(typeof n=="string")return pe(n,e);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pe(n,e)}}function kt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function jt(n){if(Array.isArray(n))return pe(n)}function pe(n,e){(e==null||e>n.length)&&(e=n.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=n[a];return t}var _e=function(e){return e&&e.x===+e.x&&e.y===+e.y},St=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return e.forEach(function(t){_e(t)?a[a.length-1].push(t):a[a.length-1].length>0&&a.push([])}),_e(e[0])&&a[a.length-1].push(e[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},U=function(e,a){var t=St(e);a&&(t=[t.reduce(function(o,i){return[].concat(we(o),we(i))},[])]);var r=t.map(function(o){return o.reduce(function(i,s,f){return"".concat(i).concat(f===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return t.length===1?"".concat(r,"Z"):r},wt=function(e,a,t){var r=U(e,t);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(U(a.reverse(),t).slice(1))},_t=function(e){var a=e.points,t=e.className,r=e.baseLinePoints,o=e.connectNulls,i=At(e,bt);if(!a||!a.length)return null;var s=N("recharts-polygon",t);if(r&&r.length){var f=i.stroke&&i.stroke!=="none",l=wt(a,r,o);return d.createElement("g",{className:s},d.createElement("path",V({},O(i,!0),{fill:l.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:l})),f?d.createElement("path",V({},O(i,!0),{fill:"none",d:U(a,o)})):null,f?d.createElement("path",V({},O(i,!0),{fill:"none",d:U(r,o)})):null)}var v=U(a,o);return d.createElement("path",V({},O(i,!0),{fill:v.slice(-1)==="Z"?i.fill:"none",className:s,d:v}))},fe,Re;function Rt(){if(Re)return fe;Re=1;var n=Ke(),e=nt(),a=He();function t(r,o){return r&&r.length?n(r,a(o,2),e):void 0}return fe=t,fe}var Tt=Rt();const Dt=Me(Tt);var me,Te;function Et(){if(Te)return me;Te=1;var n=Ke(),e=He(),a=at();function t(r,o){return r&&r.length?n(r,e(o,2),a):void 0}return me=t,me}var Ct=Et();const Bt=Me(Ct);var It=["cx","cy","angle","ticks","axisLine"],Nt=["ticks","tick","angle","tickFormatter","stroke"];function z(n){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(n)}function Z(){return Z=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},Z.apply(this,arguments)}function De(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),a.push.apply(a,t)}return a}function L(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?De(Object(a),!0).forEach(function(t){se(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function Ee(n,e){if(n==null)return{};var a=Lt(n,e),t,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function Lt(n,e){if(n==null)return{};var a={};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;a[t]=n[t]}return a}function $t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,ze(t.key),t)}}function Ft(n,e,a){return e&&Ce(n.prototype,e),a&&Ce(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function Mt(n,e,a){return e=re(e),Kt(n,We()?Reflect.construct(e,a||[],re(n).constructor):e.apply(n,a))}function Kt(n,e){if(e&&(z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ht(n)}function Ht(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function We(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(We=function(){return!!n})()}function re(n){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},re(n)}function qt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&he(n,e)}function he(n,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},he(n,e)}function se(n,e,a){return e=ze(e),e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function ze(n){var e=Vt(n,"string");return z(e)=="symbol"?e:e+""}function Vt(n,e){if(z(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var t=a.call(n,e);if(z(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var le=(function(n){function e(){return $t(this,e),Mt(this,e,arguments)}return qt(e,n),Ft(e,[{key:"getTickValueCoord",value:function(t){var r=t.coordinate,o=this.props,i=o.angle,s=o.cx,f=o.cy;return C(s,f,r,i)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,r;switch(t){case"left":r="end";break;case"right":r="start";break;default:r="middle";break}return r}},{key:"getViewBox",value:function(){var t=this.props,r=t.cx,o=t.cy,i=t.angle,s=t.ticks,f=Dt(s,function(v){return v.coordinate||0}),l=Bt(s,function(v){return v.coordinate||0});return{cx:r,cy:o,startAngle:i,endAngle:i,innerRadius:l.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,r=t.cx,o=t.cy,i=t.angle,s=t.ticks,f=t.axisLine,l=Ee(t,It),v=s.reduce(function(p,c){return[Math.min(p[0],c.coordinate),Math.max(p[1],c.coordinate)]},[1/0,-1/0]),h=C(r,o,v[0],i),b=C(r,o,v[1],i),P=L(L(L({},O(l,!1)),{},{fill:"none"},O(f,!1)),{},{x1:h.x,y1:h.y,x2:b.x,y2:b.y});return d.createElement("line",Z({className:"recharts-polar-radius-axis-line"},P))}},{key:"renderTicks",value:function(){var t=this,r=this.props,o=r.ticks,i=r.tick,s=r.angle,f=r.tickFormatter,l=r.stroke,v=Ee(r,Nt),h=this.getTickTextAnchor(),b=O(v,!1),P=O(i,!1),p=o.map(function(c,y){var x=t.getTickValueCoord(c),m=L(L(L(L({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},b),{},{stroke:"none",fill:l},P),{},{index:y},x),{},{payload:c});return d.createElement(R,Z({className:N("recharts-polar-radius-axis-tick",qe(i)),key:"tick-".concat(c.coordinate)},Ae(t.props,c,y)),e.renderTickItem(i,m,f?f(c.value,y):c.value))});return d.createElement(R,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var t=this.props,r=t.ticks,o=t.axisLine,i=t.tick;return!r||!r.length?null:d.createElement(R,{className:N("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),Ve.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,r,o){var i;return d.isValidElement(t)?i=d.cloneElement(t,r):F(t)?i=t(r):i=d.createElement(be,Z({},r,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])})(_.PureComponent);se(le,"displayName","PolarRadiusAxis");se(le,"axisType","radiusAxis");se(le,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Q(n){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(n)}function M(){return M=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},M.apply(this,arguments)}function Be(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),a.push.apply(a,t)}return a}function $(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Be(Object(a),!0).forEach(function(t){ce(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function Yt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,Ge(t.key),t)}}function Wt(n,e,a){return e&&Ie(n.prototype,e),a&&Ie(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function zt(n,e,a){return e=ie(e),Qt(n,Qe()?Reflect.construct(e,a||[],ie(n).constructor):e.apply(n,a))}function Qt(n,e){if(e&&(Q(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gt(n)}function Gt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qe=function(){return!!n})()}function ie(n){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ie(n)}function Ut(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ye(n,e)}function ye(n,e){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ye(n,e)}function ce(n,e,a){return e=Ge(e),e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function Ge(n){var e=Zt(n,"string");return Q(e)=="symbol"?e:e+""}function Zt(n,e){if(Q(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var t=a.call(n,e);if(Q(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Jt=Math.PI/180,Ne=1e-5,ue=(function(n){function e(){return Yt(this,e),zt(this,e,arguments)}return Ut(e,n),Wt(e,[{key:"getTickLineCoord",value:function(t){var r=this.props,o=r.cx,i=r.cy,s=r.radius,f=r.orientation,l=r.tickSize,v=l||8,h=C(o,i,s,t.coordinate),b=C(o,i,s+(f==="inner"?-1:1)*v,t.coordinate);return{x1:h.x,y1:h.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(t){var r=this.props.orientation,o=Math.cos(-t.coordinate*Jt),i;return o>Ne?i=r==="outer"?"start":"end":o<-Ne?i=r==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var t=this.props,r=t.cx,o=t.cy,i=t.radius,s=t.axisLine,f=t.axisLineType,l=$($({},O(this.props,!1)),{},{fill:"none"},O(s,!1));if(f==="circle")return d.createElement(rt,M({className:"recharts-polar-angle-axis-line"},l,{cx:r,cy:o,r:i}));var v=this.props.ticks,h=v.map(function(b){return C(r,o,i,b.coordinate)});return d.createElement(_t,M({className:"recharts-polar-angle-axis-line"},l,{points:h}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,o=r.ticks,i=r.tick,s=r.tickLine,f=r.tickFormatter,l=r.stroke,v=O(this.props,!1),h=O(i,!1),b=$($({},v),{},{fill:"none"},O(s,!1)),P=o.map(function(p,c){var y=t.getTickLineCoord(p),x=t.getTickTextAnchor(p),m=$($($({textAnchor:x},v),{},{stroke:"none",fill:l},h),{},{index:c,payload:p,x:y.x2,y:y.y2});return d.createElement(R,M({className:N("recharts-polar-angle-axis-tick",qe(i)),key:"tick-".concat(p.coordinate)},Ae(t.props,p,c)),s&&d.createElement("line",M({className:"recharts-polar-angle-axis-tick-line"},b,y)),i&&e.renderTickItem(i,m,f?f(p.value,c):p.value))});return d.createElement(R,{className:"recharts-polar-angle-axis-ticks"},P)}},{key:"render",value:function(){var t=this.props,r=t.ticks,o=t.radius,i=t.axisLine;return o<=0||!r||!r.length?null:d.createElement(R,{className:N("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,r,o){var i;return d.isValidElement(t)?i=d.cloneElement(t,r):F(t)?i=t(r):i=d.createElement(be,M({},r,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])})(_.PureComponent);ce(ue,"displayName","PolarAngleAxis");ce(ue,"axisType","angleAxis");ce(ue,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ae;function G(n){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(n)}function Y(){return Y=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},Y.apply(this,arguments)}function Le(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),a.push.apply(a,t)}return a}function g(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Le(Object(a),!0).forEach(function(t){S(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function Xt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,Ze(t.key),t)}}function en(n,e,a){return e&&$e(n.prototype,e),a&&$e(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function tn(n,e,a){return e=oe(e),nn(n,Ue()?Reflect.construct(e,a||[],oe(n).constructor):e.apply(n,a))}function nn(n,e){if(e&&(G(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(n)}function an(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ue(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ue=function(){return!!n})()}function oe(n){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},oe(n)}function rn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ge(n,e)}function ge(n,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ge(n,e)}function S(n,e,a){return e=Ze(e),e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function Ze(n){var e=on(n,"string");return G(e)=="symbol"?e:e+""}function on(n,e){if(G(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var t=a.call(n,e);if(G(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var B=(function(n){function e(a){var t;return Xt(this,e),t=tn(this,e,[a]),S(t,"pieRef",null),S(t,"sectorRefs",[]),S(t,"id",ft("recharts-pie-")),S(t,"handleAnimationEnd",function(){var r=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),F(r)&&r()}),S(t,"handleAnimationStart",function(){var r=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),F(r)&&r()}),t.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},t}return rn(e,n),en(e,[{key:"isActiveIndex",value:function(t){var r=this.props.activeIndex;return Array.isArray(r)?r.indexOf(t)!==-1:t===r}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,s=o.labelLine,f=o.dataKey,l=o.valueKey,v=O(this.props,!1),h=O(i,!1),b=O(s,!1),P=i&&i.offsetRadius||20,p=t.map(function(c,y){var x=(c.startAngle+c.endAngle)/2,m=C(c.cx,c.cy,c.outerRadius+P,x),A=g(g(g(g({},v),c),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(m.x,c.cx)},m),E=g(g(g(g({},v),c),{},{fill:"none",stroke:c.fill},b),{},{index:y,points:[C(c.cx,c.cy,c.outerRadius,x),m]}),j=f;return W(f)&&W(l)?j="value":W(f)&&(j=l),d.createElement(R,{key:"label-".concat(c.startAngle,"-").concat(c.endAngle,"-").concat(c.midAngle,"-").concat(y)},s&&e.renderLabelLineItem(s,E,"line"),e.renderLabelItem(i,A,H(c,j)))});return d.createElement(R,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(t){var r=this,o=this.props,i=o.activeShape,s=o.blendStroke,f=o.inactiveShape;return t.map(function(l,v){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&t.length!==1)return null;var h=r.isActiveIndex(v),b=f&&r.hasActiveIndex()?f:null,P=h?i:b,p=g(g({},l),{},{stroke:s?l.fill:l.stroke,tabIndex:-1});return d.createElement(R,Y({ref:function(y){y&&!r.sectorRefs.includes(y)&&r.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ae(r.props,l,v),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(v)}),d.createElement(ot,Y({option:P,isActive:h,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,r=this.props,o=r.sectors,i=r.isAnimationActive,s=r.animationBegin,f=r.animationDuration,l=r.animationEasing,v=r.animationId,h=this.state,b=h.prevSectors,P=h.prevIsAnimationActive;return d.createElement(st,{begin:s,duration:f,isActive:i,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(v,"-").concat(P),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var c=p.t,y=[],x=o&&o[0],m=x.startAngle;return o.forEach(function(A,E){var j=b&&b[E],T=E>0?lt(A,"paddingAngle",0):0;if(j){var w=ke(j.endAngle-j.startAngle,A.endAngle-A.startAngle),k=g(g({},A),{},{startAngle:m+T,endAngle:m+w(c)+T});y.push(k),m=k.endAngle}else{var K=A.endAngle,D=A.startAngle,J=ke(0,K-D),X=J(c),I=g(g({},A),{},{startAngle:m+T,endAngle:m+X+T});y.push(I),m=I.endAngle}}),d.createElement(R,null,t.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(t){var r=this;t.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++r.state.sectorToFocus%r.sectorRefs.length;r.sectorRefs[i].focus(),r.setState({sectorToFocus:i});break}case"ArrowRight":{var s=--r.state.sectorToFocus<0?r.sectorRefs.length-1:r.state.sectorToFocus%r.sectorRefs.length;r.sectorRefs[s].focus(),r.setState({sectorToFocus:s});break}case"Escape":{r.sectorRefs[r.state.sectorToFocus].blur(),r.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,r=t.sectors,o=t.isAnimationActive,i=this.state.prevSectors;return o&&r&&r.length&&(!i||!ct(i,r))?this.renderSectorsWithAnimation():this.renderSectorsStatically(r)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,r=this.props,o=r.hide,i=r.sectors,s=r.className,f=r.label,l=r.cx,v=r.cy,h=r.innerRadius,b=r.outerRadius,P=r.isAnimationActive,p=this.state.isAnimationFinished;if(o||!i||!i.length||!q(l)||!q(v)||!q(h)||!q(b))return null;var c=N("recharts-pie",s);return d.createElement(R,{tabIndex:this.props.rootTabIndex,className:c,ref:function(x){t.pieRef=x}},this.renderSectors(),f&&this.renderLabels(i),Ve.renderCallByParent(this.props,null,!1),(!P||p)&&ut.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,r){return r.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==r.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:r.curSectors,isAnimationFinished:!0}:t.sectors!==r.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,r){return t>r?"start":t<r?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,r,o){if(d.isValidElement(t))return d.cloneElement(t,r);if(F(t))return t(r);var i=N("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return d.createElement(it,Y({},r,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(t,r,o){if(d.isValidElement(t))return d.cloneElement(t,r);var i=o;if(F(t)&&(i=t(r),d.isValidElement(i)))return i;var s=N("recharts-pie-label-text",typeof t!="boolean"&&!F(t)?t.className:"");return d.createElement(be,Y({},r,{alignmentBaseline:"middle",className:s}),i)}}])})(_.PureComponent);ae=B;S(B,"displayName","Pie");S(B,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});S(B,"parseDeltaAngle",function(n,e){var a=ne(e-n),t=Math.min(Math.abs(e-n),360);return a*t});S(B,"getRealPieData",function(n){var e=n.data,a=n.children,t=O(n,!1),r=vt(a,Ye);return e&&e.length?e.map(function(o,i){return g(g(g({payload:o},t),o),r&&r[i]&&r[i].props)}):r&&r.length?r.map(function(o){return g(g({},t),o.props)}):[]});S(B,"parseCoordinateOfPie",function(n,e){var a=e.top,t=e.left,r=e.width,o=e.height,i=dt(r,o),s=t+ee(n.cx,r,r/2),f=a+ee(n.cy,o,o/2),l=ee(n.innerRadius,i,0),v=ee(n.outerRadius,i,i*.8),h=n.maxRadius||Math.sqrt(r*r+o*o)/2;return{cx:s,cy:f,innerRadius:l,outerRadius:v,maxRadius:h}});S(B,"getComposedData",function(n){var e=n.item,a=n.offset,t=e.type.defaultProps!==void 0?g(g({},e.type.defaultProps),e.props):e.props,r=ae.getRealPieData(t);if(!r||!r.length)return null;var o=t.cornerRadius,i=t.startAngle,s=t.endAngle,f=t.paddingAngle,l=t.dataKey,v=t.nameKey,h=t.valueKey,b=t.tooltipType,P=Math.abs(t.minAngle),p=ae.parseCoordinateOfPie(t,a),c=ae.parseDeltaAngle(i,s),y=Math.abs(c),x=l;W(l)&&W(h)?(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):W(l)&&(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var m=r.filter(function(k){return H(k,x,0)!==0}).length,A=(y>=360?m:m-1)*f,E=y-m*P-A,j=r.reduce(function(k,K){var D=H(K,x,0);return k+(q(D)?D:0)},0),T;if(j>0){var w;T=r.map(function(k,K){var D=H(k,x,0),J=H(k,v,K),X=(q(D)?D:0)/j,I;K?I=w.endAngle+ne(c)*f*(D!==0?1:0):I=i;var xe=I+ne(c)*((D!==0?P:0)+X*E),Pe=(I+xe)/2,Oe=(p.innerRadius+p.outerRadius)/2,Xe=[{name:J,value:D,payload:k,dataKey:x,type:b}],et=C(p.cx,p.cy,Oe,Pe);return w=g(g(g({percent:X,cornerRadius:o,name:J,tooltipPayload:Xe,midAngle:Pe,middleRadius:Oe,tooltipPosition:et},k),p),{},{value:H(k,x),startAngle:I,endAngle:xe,payload:k,paddingAngle:ne(c)*f}),w})}return g(g({},p),{},{sectors:T,data:r})});var sn=pt({chartName:"PieChart",GraphicalChild:B,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ue},{axisType:"radiusAxis",AxisComp:le}],formatAxisMap:ht,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function ln(){const n=_.useRef(null),[e,a]=_.useState(0);return _.useEffect(()=>{const t=n.current;if(!t)return;let r;const o=new ResizeObserver(i=>{clearTimeout(r),r=setTimeout(()=>{for(const s of i)a(s.contentRect.width)},100)});return o.observe(t),a(t.getBoundingClientRect().width),()=>{clearTimeout(r),o.disconnect()}},[]),{ref:n,width:e}}const te=["#1e3a5f","#2563eb","#3b82f6","#60a5fa","#93c5fd","#1e40af","#1d4ed8","#2a5298","#4a7fc1","#6b9fd4","#8b5cf6","#7c3aed","#6d28d9","#a78bfa","#c4b5fd","#059669","#10b981","#34d399","#6ee7b7","#a7f3d0","#d97706","#f59e0b","#fbbf24","#fcd34d","#fde68a","#dc2626","#ef4444","#f87171","#fca5a5","#fecaca","#db2777","#ec4899","#f472b6","#f9a8d4","#0891b2","#06b6d4","#22d3ee","#67e8f9","#4b5563","#6b7280","#9ca3af","#d1d5db","#78716c","#a8a29e","#d6d3d1","#334155","#475569","#64748b","#94a3b8","#cbd5e1","#365314","#4d7c0f","#65a30d","#84cc16","#a3e635","#7e22ce","#9333ea","#a855f7","#c084fc"],cn=[.25,.5,1,2,5];function Je(n){return n<0?`−$${(Math.abs(n)/1e9).toFixed(1)}B`:n>=1e9?`$${(n/1e9).toFixed(1)}B`:n>=1e6?`$${(n/1e6).toFixed(0)}M`:`$${(n/1e3).toFixed(0)}K`}function un(n){const{cx:e,cy:a,innerRadius:t,outerRadius:r,startAngle:o,endAngle:i,fill:s}=n;return u.jsxs("g",{children:[u.jsx(Se,{cx:e,cy:a,innerRadius:t,outerRadius:r+6,startAngle:o,endAngle:i,fill:s,stroke:"#fff",strokeWidth:2}),u.jsx(Se,{cx:e,cy:a,innerRadius:r+10,outerRadius:r+13,startAngle:o,endAngle:i,fill:s})]})}function fn({active:n,payload:e,netTotal:a}){if(!n||!(e!=null&&e.length))return null;const t=e[0].payload;return u.jsxs("div",{className:"chart-tooltip",children:[u.jsx("div",{className:"tt-name",children:t.name}),u.jsx("div",{className:"tt-value",children:Je(t.value)}),u.jsxs("div",{className:"tt-pct",children:[(t.value/a*100).toFixed(2),"% of total"]})]})}function Fe({chartId:n,title:e,subtitle:a,note:t,agencies:r,netTotal:o}){const[i,s]=_.useState(null),[f,l]=_.useState(1),{ref:v,width:h}=ln(),b=_.useRef(null),P=Math.min(175,Math.floor(h/2)-16)||175,p=Math.round(P*72/175),c=Math.max(260,2*(P+13)+40),y=_.useMemo(()=>r.filter(m=>m.value>0).sort((m,A)=>A.value-m.value),[r]),{display:x}=_.useMemo(()=>{const m=o*(f/100),A=y.filter(w=>w.value>=m),E=y.filter(w=>w.value<m),j=E.reduce((w,k)=>w+k.value,0),T=[...A];return j>0&&T.push({name:`Other (${E.length} agencies)`,value:j}),{display:T}},[y,o,f]);return u.jsxs("div",{className:"chart-card",ref:b,children:[u.jsx(tt,{chartRef:b,chartId:n,title:e}),u.jsx("h2",{children:e}),u.jsx("p",{className:"chart-subtitle",children:a}),t&&u.jsx("p",{className:"chart-note",children:t}),u.jsxs("div",{className:"threshold-bar",children:[u.jsx("span",{className:"label",children:"Show agencies above:"}),cn.map(m=>u.jsxs("button",{className:`threshold-btn ${f===m?"active":""}`,onClick:()=>{l(m),s(null)},children:[m,"%"]},m))]}),u.jsxs("div",{className:"chart-layout",children:[u.jsx("div",{className:"chart-pie-area",ref:v,children:u.jsx(yt,{width:"100%",height:c,children:u.jsxs(sn,{children:[u.jsx(B,{data:x,dataKey:"value",cx:"50%",cy:"50%",innerRadius:p,outerRadius:P,paddingAngle:.4,activeIndex:i,activeShape:un,onMouseEnter:(m,A)=>s(A),onMouseLeave:()=>s(null),children:x.map((m,A)=>u.jsx(Ye,{fill:te[A%te.length],stroke:"#fff",strokeWidth:1},A))}),u.jsx(gt,{content:u.jsx(fn,{netTotal:o})})]})})}),u.jsx("div",{className:"chart-legend-area",children:u.jsxs("table",{className:"legend-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Agency"}),u.jsx("th",{children:"Budget"}),u.jsx("th",{children:"Share"})]})}),u.jsx("tbody",{children:x.map((m,A)=>u.jsxs("tr",{className:i===A?"highlight":"",onMouseEnter:()=>s(A),onMouseLeave:()=>s(null),children:[u.jsx("td",{children:u.jsxs("div",{className:"legend-name-cell",children:[u.jsx("span",{className:"legend-swatch",style:{background:te[A%te.length]}}),m.name]})}),u.jsx("td",{children:Je(m.value)}),u.jsxs("td",{children:[(m.value/o*100).toFixed(1),"%"]})]},A))})]})})]})]})}const ve={netTotal:115907309727,agencies:[{name:"Department of Education",value:34996591607},{name:"Miscellaneous",value:15528804614},{name:"Department of Social Services",value:11974308439},{name:"Pension Contributions",value:10478679824},{name:"Police Department",value:6276535865},{name:"Debt Service",value:4874454475},{name:"Department of Homeless Services",value:3554426684},{name:"Administration for Children's Services",value:3141750019},{name:"Fire Department",value:2621215957},{name:"Health and Mental Hygiene",value:2440587524},{name:"Department of Sanitation",value:1987963656},{name:"Citywide Administrative Services",value:1774665175},{name:"Dept of Environmental Protection",value:1751638987},{name:"Health and Hospitals Corporation",value:1672894540},{name:"Housing Preservation & Development",value:1611120690},{name:"City University",value:1554336905},{name:"Dept of Youth & Community Dev.",value:1514141442},{name:"Dept of Transportation",value:1503042033},{name:"Department of Correction",value:1212565375},{name:"Office of Criminal Justice",value:868317728},{name:"Dept of IT & Telecom",value:817833296},{name:"Department of Parks & Recreation",value:687637766},{name:"Department for the Aging",value:605474705},{name:"Department of Finance",value:371193171},{name:"Department of Cultural Affairs",value:299657922},{name:"Dept of Small Business Services",value:279711843},{name:"Law Department",value:276814297},{name:"Department of Buildings",value:230868631},{name:"Mayoralty",value:196146351},{name:"New York Public Library",value:190598450},{name:"District Attorney - New York",value:180030822},{name:"Department of Design & Construction",value:164489559},{name:"District Attorney - Kings",value:157898433},{name:"Queens Borough Public Library",value:149900210},{name:"Board of Elections",value:146875148},{name:"Brooklyn Public Library",value:144774313},{name:"District Attorney - Bronx",value:128320716},{name:"Office of the Comptroller",value:127028130},{name:"Financial Info Services Agency",value:122930913},{name:"Department of Probation",value:115658490},{name:"City Council",value:115049827},{name:"Campaign Finance Board",value:109481237},{name:"District Attorney - Queens",value:108133079},{name:"Office of Admin Trials & Hearings",value:80902546},{name:"Dept of Emergency Management",value:80773863},{name:"Dept of Consumer & Worker Protection",value:75070618},{name:"NYC Taxi & Limousine Commission",value:58133858},{name:"Department of City Planning",value:56788947},{name:"Department of Investigation",value:55874468},{name:"Research Libraries",value:37866916},{name:"Office of Prosecution - Special Narcotics",value:31694549},{name:"Civilian Complaint Review Board",value:29167829},{name:"District Attorney - Richmond",value:27013456},{name:"Community Boards (59)",value:22273301},{name:"Office of Payroll Administration",value:17573369},{name:"Commission on Human Rights",value:15355660},{name:"Dept of Records & Info Services",value:15233377},{name:"Office of the Actuary",value:7614099},{name:"Department of Veterans' Services",value:7634186},{name:"Office of Racial Equity",value:7277388},{name:"Borough President - Brooklyn",value:7735303},{name:"Borough President - Bronx",value:7034979},{name:"Borough President - Queens",value:6778610},{name:"Office of Administrative Tax Appeals",value:6092131},{name:"Borough President - Manhattan",value:6017382},{name:"Public Advocate",value:5542658},{name:"Borough President - Staten Island",value:5206209},{name:"Commission on Racial Equity",value:4827741},{name:"Board of Correction",value:4086397},{name:"City Clerk",value:8924713},{name:"Independent Budget Office",value:8343403},{name:"Landmarks Preservation Commission",value:8144365},{name:"Business Integrity Commission",value:8724918},{name:"Conflicts of Interest Board",value:2860750},{name:"Office of Collective Bargaining",value:2825195},{name:"Equal Employment Practices Commission",value:1606048},{name:"Civil Service Commission",value:1217197},{name:"Public Administrator - New York",value:1320021},{name:"Public Administrator - Kings",value:1136406},{name:"Public Administrator - Bronx",value:883662},{name:"Public Administrator - Queens",value:694608},{name:"Public Administrator - Richmond",value:673602}]},de={netTotal:127000975382,agencies:[{name:"Department of Education",value:38029864876},{name:"Miscellaneous",value:15931941870},{name:"Department of Social Services",value:14628328100},{name:"Pension Contributions",value:10533135397},{name:"Debt Service",value:9289484329},{name:"Police Department",value:6697275706},{name:"Department of Homeless Services",value:4629179686},{name:"Administration for Children's Services",value:3424965332},{name:"Fire Department",value:2645789315},{name:"Health and Mental Hygiene",value:2512428221},{name:"Department of Sanitation",value:2076550618},{name:"Health and Hospitals Corporation",value:1739238115},{name:"Citywide Administrative Services",value:1693461885},{name:"Dept of Environmental Protection",value:1686797241},{name:"Dept of Youth & Community Dev.",value:1633633707},{name:"Dept of Transportation",value:1556790438},{name:"City University",value:1550314329},{name:"Housing Preservation & Development",value:1457573247},{name:"Department of Correction",value:1263685256},{name:"Office of Criminal Justice",value:889582522},{name:"Dept of IT & Telecom",value:702545933},{name:"Department of Parks & Recreation",value:653952826},{name:"Department for the Aging",value:573488349},{name:"Department of Finance",value:378498082},{name:"Law Department",value:345097084},{name:"Department of Cultural Affairs",value:215948310},{name:"Department of Buildings",value:213651608},{name:"Mayoralty",value:188179495},{name:"Dept of Small Business Services",value:185473837},{name:"District Attorney - New York",value:179669507},{name:"New York Public Library",value:178956363},{name:"District Attorney - Kings",value:166387228},{name:"Department of Design & Construction",value:163435477},{name:"Board of Elections",value:146875148},{name:"District Attorney - Bronx",value:143552189},{name:"Queens Borough Public Library",value:140743132},{name:"Brooklyn Public Library",value:136090170},{name:"Office of the Comptroller",value:130017637},{name:"Financial Info Services Agency",value:124436609},{name:"Department of Probation",value:116189073},{name:"Energy Adjustment",value:112689973},{name:"District Attorney - Queens",value:108222063},{name:"City Council",value:95635157},{name:"Office of Admin Trials & Hearings",value:80050821},{name:"Dept of Consumer & Worker Protection",value:74740050},{name:"NYC Taxi & Limousine Commission",value:57921341},{name:"Lease Adjustment",value:53230428},{name:"Department of Investigation",value:54106204},{name:"Department of City Planning",value:51452729},{name:"Dept of Emergency Management",value:44904031},{name:"Research Libraries",value:35645699},{name:"Office of Prosecution - Special Narcotics",value:31714357},{name:"Civilian Complaint Review Board",value:29188717},{name:"District Attorney - Richmond",value:26821592},{name:"Community Boards (59)",value:21929921},{name:"Office of Payroll Administration",value:17592942},{name:"Dept of Records & Info Services",value:15520208},{name:"Commission on Human Rights",value:14257917},{name:"Campaign Finance Board",value:13477049},{name:"Business Integrity Commission",value:8732148},{name:"Independent Budget Office",value:8427033},{name:"Landmarks Preservation Commission",value:8148242},{name:"Office of the Actuary",value:7617044},{name:"Borough President - Brooklyn",value:6865737},{name:"Department of Veterans' Services",value:6608768},{name:"Office of Administrative Tax Appeals",value:6540598},{name:"City Clerk",value:6002553},{name:"Borough President - Queens",value:5838237},{name:"Office of Racial Equity",value:5627388},{name:"Borough President - Manhattan",value:5586632},{name:"Public Advocate",value:5542726},{name:"Borough President - Staten Island",value:4908309},{name:"Commission on Racial Equity",value:4627741},{name:"Board of Correction",value:3999397},{name:"Borough President - Bronx",value:6477779},{name:"Conflicts of Interest Board",value:2861782},{name:"Office of Collective Bargaining",value:2825196},{name:"Equal Employment Practices Commission",value:1607246},{name:"Public Administrator - New York",value:1328148},{name:"Civil Service Commission",value:1217197},{name:"Public Administrator - Kings",value:1143384},{name:"Public Administrator - Bronx",value:890640},{name:"Public Administrator - Queens",value:701586},{name:"Public Administrator - Richmond",value:655580}]};function pn(){return u.jsxs("div",{className:"page-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx("h1",{children:"Expense Budget by Agency"}),u.jsx("p",{className:"subtitle",children:"How New York City allocates its operating budget across agencies, from the adopted FY2026 budget through the FY2027 preliminary budget."})]}),u.jsx(Fe,{chartId:"fy2027-pie",title:"FY2027 Preliminary Expense Budget",subtitle:`Net Total: $${(de.netTotal/1e9).toFixed(1)} Billion — By Agency`,note:"Excludes ($1.06B) Citywide Savings Initiatives offset not yet allocated to agencies.",agencies:de.agencies,netTotal:de.netTotal}),u.jsx(Fe,{chartId:"fy2026-pie",title:"FY2026 Adopted Expense Budget",subtitle:`Net Total: $${(ve.netTotal/1e9).toFixed(1)} Billion — By Agency`,agencies:ve.agencies,netTotal:ve.netTotal})]})}export{pn as default};
