import{R as g,r as C,j as a}from"./index-BC0hGY6D.js";import{S as xe}from"./ShareMenu-DbERXzdk.js";import{f as H,L as X,H as te,o as V,C as ie,A as Ne,m as G,j as ye,I as $e,n as ge,c as Me,J as Ie,q as He,u as Ge,i as se,G as Ve,k as me,K as be,D as Ke,z as Pe,M as Le,N as ze,R as ve,E as we,O as ae,v as Je}from"./generateCategoricalChart-D6EJgFR-.js";import{X as re,Y as oe,C as Ae}from"./YAxis-BGHw_z8h.js";var Xe=["layout","type","stroke","connectNulls","isRange","ref"],Ue=["key"],De;function K(t){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},K(t)}function Ye(t,r){if(t==null)return{};var n=qe(t,r),i,e;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(e=0;e<s.length;e++)i=s[e],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function qe(t,r){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(r.indexOf(i)>=0)continue;n[i]=t[i]}return n}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},N.apply(this,arguments)}function je(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?je(Object(n),!0).forEach(function(i){Y(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Qe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ke(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_e(i.key),i)}}function Ze(t,r,n){return r&&ke(t.prototype,r),n&&ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function et(t,r,n){return r=ne(r),tt(t,Ee()?Reflect.construct(r,n||[],ne(t).constructor):r.apply(t,n))}function tt(t,r){if(r&&(K(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(t)}function at(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ee=function(){return!!t})()}function ne(t){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ne(t)}function rt(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&le(t,r)}function le(t,r){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,e){return i.__proto__=e,i},le(t,r)}function Y(t,r,n){return r=_e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function _e(t){var r=ot(t,"string");return K(r)=="symbol"?r:r+""}function ot(t,r){if(K(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,r);if(K(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R=(function(t){function r(){var n;Qe(this,r);for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return n=et(this,r,[].concat(e)),Y(n,"state",{isAnimationFinished:!0}),Y(n,"id",Ge("recharts-area-")),Y(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),se(l)&&l()}),Y(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),se(l)&&l()}),n}return rt(r,t),Ze(r,[{key:"renderDots",value:function(i,e,s){var l=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(l&&!d)return null;var c=this.props,p=c.dot,f=c.points,u=c.dataKey,x=H(this.props,!1),b=H(p,!0),j=f.map(function(v,M){var A=_(_(_({key:"dot-".concat(M),r:3},x),b),{},{index:M,cx:v.x,cy:v.y,dataKey:u,value:v.value,payload:v.payload,points:f});return r.renderDotItem(p,A)}),B={clipPath:i?"url(#clipPath-".concat(e?"":"dots-").concat(s,")"):null};return g.createElement(X,N({className:"recharts-area-dots"},B),j)}},{key:"renderHorizontalRect",value:function(i){var e=this.props,s=e.baseLine,l=e.points,d=e.strokeWidth,c=l[0].x,p=l[l.length-1].x,f=i*Math.abs(c-p),u=te(l.map(function(x){return x.y||0}));return V(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(te(s.map(function(x){return x.y||0})),u)),V(u)?g.createElement("rect",{x:c<p?c:c-f,y:0,width:f,height:Math.floor(u+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(i){var e=this.props,s=e.baseLine,l=e.points,d=e.strokeWidth,c=l[0].y,p=l[l.length-1].y,f=i*Math.abs(c-p),u=te(l.map(function(x){return x.x||0}));return V(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(te(s.map(function(x){return x.x||0})),u)),V(u)?g.createElement("rect",{x:0,y:c<p?c:c-f,width:u+(d?parseInt("".concat(d),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(i){var e=this.props.layout;return e==="vertical"?this.renderVerticalRect(i):this.renderHorizontalRect(i)}},{key:"renderAreaStatically",value:function(i,e,s,l){var d=this.props,c=d.layout,p=d.type,f=d.stroke,u=d.connectNulls,x=d.isRange;d.ref;var b=Ye(d,Xe);return g.createElement(X,{clipPath:s?"url(#clipPath-".concat(l,")"):null},g.createElement(ie,N({},H(b,!0),{points:i,connectNulls:u,type:p,baseLine:e,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&g.createElement(ie,N({},H(this.props,!1),{className:"recharts-area-curve",layout:c,type:p,connectNulls:u,fill:"none",points:i})),f!=="none"&&x&&g.createElement(ie,N({},H(this.props,!1),{className:"recharts-area-curve",layout:c,type:p,connectNulls:u,fill:"none",points:e})))}},{key:"renderAreaWithAnimation",value:function(i,e){var s=this,l=this.props,d=l.points,c=l.baseLine,p=l.isAnimationActive,f=l.animationBegin,u=l.animationDuration,x=l.animationEasing,b=l.animationId,j=this.state,B=j.prevPoints,v=j.prevBaseLine;return g.createElement(Ne,{begin:f,duration:u,isActive:p,easing:x,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var A=M.t;if(B){var k=B.length/d.length,y=d.map(function(F,D){var P=Math.floor(D*k);if(B[P]){var O=B[P],W=G(O.x,F.x),T=G(O.y,F.y);return _(_({},F),{},{x:W(A),y:T(A)})}return F}),m;if(V(c)&&typeof c=="number"){var w=G(v,c);m=w(A)}else if(ye(c)||$e(c)){var z=G(v,0);m=z(A)}else m=c.map(function(F,D){var P=Math.floor(D*k);if(v[P]){var O=v[P],W=G(O.x,F.x),T=G(O.y,F.y);return _(_({},F),{},{x:W(A),y:T(A)})}return F});return s.renderAreaStatically(y,m,i,e)}return g.createElement(X,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(e)},s.renderClipRect(A))),g.createElement(X,{clipPath:"url(#animationClipPath-".concat(e,")")},s.renderAreaStatically(d,c,i,e)))})}},{key:"renderArea",value:function(i,e){var s=this.props,l=s.points,d=s.baseLine,c=s.isAnimationActive,p=this.state,f=p.prevPoints,u=p.prevBaseLine,x=p.totalLength;return c&&l&&l.length&&(!f&&x>0||!ge(f,l)||!ge(u,d))?this.renderAreaWithAnimation(i,e):this.renderAreaStatically(l,d,i,e)}},{key:"render",value:function(){var i,e=this.props,s=e.hide,l=e.dot,d=e.points,c=e.className,p=e.top,f=e.left,u=e.xAxis,x=e.yAxis,b=e.width,j=e.height,B=e.isAnimationActive,v=e.id;if(s||!d||!d.length)return null;var M=this.state.isAnimationFinished,A=d.length===1,k=Me("recharts-area",c),y=u&&u.allowDataOverflow,m=x&&x.allowDataOverflow,w=y||m,z=ye(v)?this.id:v,F=(i=H(l,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},D=F.r,P=D===void 0?3:D,O=F.strokeWidth,W=O===void 0?2:O,T=Ie(l)?l:{},Z=T.clipDot,ee=Z===void 0?!0:Z,$=P*2+W;return g.createElement(X,{className:k},y||m?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(z)},g.createElement("rect",{x:y?f:f-b/2,y:m?p:p-j/2,width:y?b:b*2,height:m?j:j*2})),!ee&&g.createElement("clipPath",{id:"clipPath-dots-".concat(z)},g.createElement("rect",{x:f-$/2,y:p-$/2,width:b+$,height:j+$}))):null,A?null:this.renderArea(w,z),(l||A)&&this.renderDots(w,ee,z),(!B||M)&&He.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(i,e){return i.animationId!==e.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,curBaseLine:i.baseLine,prevPoints:e.curPoints,prevBaseLine:e.curBaseLine}:i.points!==e.curPoints||i.baseLine!==e.curBaseLine?{curPoints:i.points,curBaseLine:i.baseLine}:null}}])})(C.PureComponent);De=R;Y(R,"displayName","Area");Y(R,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ve.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Y(R,"getBaseValue",function(t,r,n,i){var e=t.layout,s=t.baseValue,l=r.props.baseValue,d=l??s;if(V(d)&&typeof d=="number")return d;var c=e==="horizontal"?i:n,p=c.scale.domain();if(c.type==="number"){var f=Math.max(p[0],p[1]),u=Math.min(p[0],p[1]);return d==="dataMin"?u:d==="dataMax"||f<0?f:Math.max(Math.min(p[0],p[1]),0)}return d==="dataMin"?p[0]:d==="dataMax"?p[1]:p[0]});Y(R,"getComposedData",function(t){var r=t.props,n=t.item,i=t.xAxis,e=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,d=t.bandSize,c=t.dataKey,p=t.stackedData,f=t.dataStartIndex,u=t.displayedData,x=t.offset,b=r.layout,j=p&&p.length,B=De.getBaseValue(r,n,i,e),v=b==="horizontal",M=!1,A=u.map(function(y,m){var w;j?w=p[f+m]:(w=me(y,c),Array.isArray(w)?M=!0:w=[B,w]);var z=w[1]==null||j&&me(y,c)==null;return v?{x:be({axis:i,ticks:s,bandSize:d,entry:y,index:m}),y:z?null:e.scale(w[1]),value:w,payload:y}:{x:z?null:i.scale(w[1]),y:be({axis:e,ticks:l,bandSize:d,entry:y,index:m}),value:w,payload:y}}),k;return j||M?k=A.map(function(y){var m=Array.isArray(y.value)?y.value[0]:null;return v?{x:y.x,y:m!=null&&y.y!=null?e.scale(m):null}:{x:m!=null?i.scale(m):null,y:y.y}}):k=v?e.scale(B):i.scale(B),_({points:A,baseLine:k,layout:b,isRange:M},x)});Y(R,"renderDotItem",function(t,r){var n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(se(t))n=t(r);else{var i=Me("recharts-area-dot",typeof t!="boolean"?t.className:""),e=r.key,s=Ye(r,Ue);n=g.createElement(Ke,N({},s,{key:e,className:i}))}return n});var nt=Pe({chartName:"BarChart",GraphicalChild:Le,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:re},{axisType:"yAxis",AxisComp:oe}],formatAxisMap:ze}),it=Pe({chartName:"AreaChart",GraphicalChild:R,axisComponents:[{axisType:"xAxis",AxisComp:re},{axisType:"yAxis",AxisComp:oe}],formatAxisMap:ze});const st=[{fy:2002,raw:39698060747,mayor:"Giuliani",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2003,raw:42342693648,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_02b.pdf",sourceLabel:"OMB FY02 Adopted"},{fy:2004,raw:43658214665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2005,raw:47209537582,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_04.pdf",sourceLabel:"OMB FY04 Adopted"},{fy:2006,raw:50187618768,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2007,raw:52940235260,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc7_06.pdf",sourceLabel:"OMB FY06 Adopted"},{fy:2008,raw:58964853062,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2009,raw:59169332665,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_08.pdf",sourceLabel:"OMB FY08 Adopted"},{fy:2010,raw:59479863786,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2011,raw:63077044552,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_10.pdf",sourceLabel:"OMB FY10 Adopted"},{fy:2012,raw:65910705998,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2013,raw:68501044477,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_12.pdf",sourceLabel:"OMB FY12 Adopted"},{fy:2014,raw:69916832926,mayor:"Bloomberg",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2015,raw:75026906545,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_14.pdf",sourceLabel:"OMB FY14 Adopted"},{fy:2016,raw:78528034085,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2017,raw:82115790244,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_16.pdf",sourceLabel:"OMB FY16 Adopted"},{fy:2018,raw:85238681837,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2019,raw:89158064224,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_18.pdf",sourceLabel:"OMB FY18 Adopted"},{fy:2020,raw:92771874627,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2021,raw:88191953188,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_20.pdf",sourceLabel:"OMB FY20 Adopted"},{fy:2022,raw:98723402321,mayor:"de Blasio",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2023,raw:101123813371,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6_22.pdf",sourceLabel:"OMB FY22 Adopted"},{fy:2024,raw:107114535200,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/erc6-23.pdf",sourceLabel:"OMB FY23 Adopted"},{fy:2025,raw:112431582240,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"},{fy:2026,raw:115907309727,mayor:"Adams",source:"https://www.nyc.gov/assets/omb/downloads/pdf/adopt25/erc6-25.pdf",sourceLabel:"OMB FY25 Adopted"}],U=st.map((t,r,n)=>{const i=t.raw/1e9,e=r>0?n[r-1].raw:null,s=e!==null?parseFloat(((t.raw-e)/e*100).toFixed(1)):null,l=e!==null?((t.raw-e)/1e9).toFixed(2):null;return{...t,budget:i,pctChange:s,dollarChange:l}}),L={Giuliani:"#6B7280",Bloomberg:"#2563EB","de Blasio":"#059669",Adams:"#D97706"},Fe=[{name:"Giuliani",start:2002,end:2002},{name:"Bloomberg",start:2003,end:2014},{name:"de Blasio",start:2015,end:2022},{name:"Adams",start:2023,end:2026}],Be=U.map(t=>t.fy),h="'JetBrains Mono', monospace",E="'Playfair Display', Georgia, serif",q=(t,r="%")=>{const n=parseFloat(t);return isNaN(n)?"â€”":`${n>0?"+":n<0?"âˆ’":""}${Math.abs(n)}${r}`},Q=t=>`$${(t/1e9).toFixed(2)}B`,ce=t=>{const r=parseFloat(t);return isNaN(r)?"â€”":`${r>0?"+":r<0?"âˆ’":""}$${Math.abs(r).toFixed(2)}B`},Se=({data:t,label:r,locked:n,onUnlock:i})=>{if(!t)return a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontFamily:h,fontSize:"11px",color:"#475569",minHeight:"48px"},children:r==="budget"?"Hover over the chart to see details â€¢ Click to freeze":"Hover over a bar to see details â€¢ Click to freeze"});const e=t,s=e.pctChange!==null&&e.pctChange>=0,l=n?a.jsx("span",{onClick:c=>{c.stopPropagation(),i()},style:{fontFamily:h,fontSize:"10px",color:"#475569",cursor:"pointer",padding:"2px 8px",borderRadius:"4px",border:"1px solid #334155",marginLeft:"auto",userSelect:"none",flexShrink:0},title:"Click to unfreeze",children:"ðŸ”’ Frozen â€” click to unfreeze"}):a.jsx("span",{style:{fontFamily:h,fontSize:"10px",color:"#334155",marginLeft:"auto",flexShrink:0},children:"click to freeze"}),d=a.jsxs("a",{href:e.source,target:"_blank",rel:"noopener noreferrer",style:{fontFamily:h,fontSize:"11px",color:"#60A5FA",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"5px",padding:"4px 10px",borderRadius:"6px",border:"1px solid rgba(96,165,250,0.2)",background:"rgba(96,165,250,0.06)",transition:"background 0.15s",flexShrink:0},onMouseEnter:c=>c.currentTarget.style.background="rgba(96,165,250,0.14)",onMouseLeave:c=>c.currentTarget.style.background="rgba(96,165,250,0.06)",onClick:c=>c.stopPropagation(),children:["ðŸ”— ",e.sourceLabel," ",a.jsx("span",{style:{opacity:.5},children:"â†—"})]});return r==="pct"?e.pctChange===null?null:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[a.jsxs("span",{style:{fontFamily:h,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",e.fy," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",e.fy-1,")"]})," vs FY ",e.fy-1," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",e.fy-2,")"]})]}),a.jsx("span",{style:{fontFamily:h,fontSize:"10px",color:L[e.mayor],background:`${L[e.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:e.mayor})]}),a.jsx("span",{style:{fontFamily:E,fontSize:"26px",fontWeight:700,color:s?"#34D399":"#F87171"},children:q(e.pctChange)})]}),a.jsxs("div",{style:{fontFamily:h,fontSize:"12px",color:"#94A3B8",lineHeight:1.8},children:[a.jsx("span",{style:{color:"#64748B"},children:Q(e.raw-parseFloat(e.dollarChange)*1e9)}),a.jsx("span",{style:{color:"#475569",margin:"0 6px"},children:"â†’"}),a.jsx("span",{style:{color:"#CBD5E1"},children:Q(e.raw)}),a.jsxs("span",{style:{color:"#475569",marginLeft:"8px"},children:["(",ce(e.dollarChange),")"]})]}),d,l]}):a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",flexWrap:"wrap",minHeight:"48px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[a.jsxs("span",{style:{fontFamily:h,fontSize:"11px",color:"#94A3B8",letterSpacing:"0.08em",textTransform:"uppercase"},children:["FY ",e.fy," ",a.jsxs("span",{style:{color:"#536178",fontWeight:400,fontSize:"10px",letterSpacing:"0.04em"},children:["(Passed ",e.fy-1,")"]})]}),a.jsx("span",{style:{fontFamily:h,fontSize:"10px",color:L[e.mayor],background:`${L[e.mayor]}18`,padding:"2px 8px",borderRadius:"4px",fontWeight:600},children:e.mayor})]}),a.jsx("span",{style:{fontFamily:E,fontSize:"26px",color:"#F8FAFC",fontWeight:700},children:Q(e.raw)})]}),e.pctChange!==null&&a.jsxs("div",{style:{fontFamily:h,fontSize:"13px",fontWeight:700,color:s?"#34D399":"#F87171"},children:[s?"â–²":"â–¼"," ",q(e.pctChange),a.jsxs("span",{style:{fontFamily:h,fontSize:"11px",color:"#64748B",fontWeight:400,marginLeft:"6px"},children:["(",ce(e.dollarChange),")"]})]}),d,l]})},Ce=()=>null,lt=t=>{const{cx:r,cy:n,payload:i}=t;return!r||!n?null:a.jsx("circle",{cx:r,cy:n,r:3.5,fill:L[i.mayor]||"#94A3B8",stroke:"#0F172A",strokeWidth:1.5,style:{cursor:"pointer"}})},ct=t=>{const{cx:r,cy:n,payload:i}=t;if(!r||!n)return null;const e=L[i.mayor]||"#94A3B8";return a.jsxs("g",{style:{cursor:"pointer"},children:[a.jsx("circle",{cx:r,cy:n,r:14,fill:e,opacity:.15}),a.jsx("circle",{cx:r,cy:n,r:8,fill:e,opacity:.3}),a.jsx("circle",{cx:r,cy:n,r:5,fill:e,stroke:"#F8FAFC",strokeWidth:2})]})},Oe=({value:t,onChange:r,options:n,label:i})=>a.jsxs("div",{children:[a.jsx("label",{style:{fontFamily:h,fontSize:"9px",color:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:i}),a.jsx("select",{value:t,onChange:e=>r(parseInt(e.target.value)),style:{fontFamily:h,fontSize:"11px",fontWeight:600,color:"#F8FAFC",background:"#1E293B",border:"1px solid #334155",borderRadius:"6px",padding:"6px 24px 6px 8px",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394A3B8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",outline:"none",transition:"border-color 0.15s",maxWidth:"100%"},onFocus:e=>e.target.style.borderColor="#60A5FA",onBlur:e=>e.target.style.borderColor="#334155",children:n.map(e=>a.jsxs("option",{value:e,children:["FY ",e," (P. ",e-1,")"]},e))})]});function dt(){const[t,r]=C.useState(2002),[n,i]=C.useState(2026),[e,s]=C.useState(null),[l,d]=C.useState(null),[c,p]=C.useState(null),[f,u]=C.useState(null),[x,b]=C.useState(null),j=C.useRef(null),B=C.useRef(null),v=o=>{if(o===null||o===e)s(null),r(2002),i(2026);else{s(o);const S=Fe.find(I=>I.name===o);S&&(r(S.start),i(S.end))}u(null),b(null)},M=f||l,A=x||c,k=U.find(o=>o.fy===t),y=U.find(o=>o.fy===n),m=n-t,w=k&&y?(y.raw-k.raw)/k.raw*100:0,z=k&&y?(y.raw-k.raw)/1e9:0,F=U.filter(o=>o.fy>t&&o.fy<=n&&o.pctChange!==null),D=F.length>0?F.reduce((o,S)=>o+S.pctChange,0)/F.length:0,P=U.filter(o=>o.fy>=t&&o.fy<=n),O=P.filter(o=>o.pctChange!==null),W=Be.filter(o=>o<n),T=Be.filter(o=>o>t),Z=C.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&d(o.activePayload[0].payload)},[]),ee=C.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&u(o.activePayload[0].payload)},[]),$=C.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&p(o.activePayload[0].payload)},[]),Re=C.useCallback(o=>{o&&o.activePayload&&o.activePayload.length&&b(o.activePayload[0].payload)},[]),de=P.map(o=>o.budget),pe=Math.floor((Math.min(...de)-5)/10)*10,ue=Math.ceil((Math.max(...de)+5)/10)*10,fe=[];for(let o=pe;o<=ue;o+=20)fe.push(o);const he=O.map(o=>o.pctChange),We=Math.min(...he,0),Te=Math.max(...he,5),J=e?L[e]:"#D97706";return a.jsxs("div",{style:{background:"linear-gradient(145deg, #0B1120 0%, #111827 50%, #0F172A 100%)",minHeight:"100vh",padding:"40px 24px",fontFamily:"'Segoe UI', system-ui, sans-serif",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"radial-gradient(circle at 1px 1px, rgba(148,163,184,0.04) 1px, transparent 0)",backgroundSize:"32px 32px",pointerEvents:"none"}}),a.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto",position:"relative",zIndex:1},children:[a.jsxs("div",{style:{marginBottom:"36px"},children:[a.jsx("div",{style:{fontFamily:h,fontSize:"11px",color:"#D97706",letterSpacing:"0.15em",textTransform:"uppercase",marginBottom:"10px",fontWeight:600},children:"Interactive Model | NYCâ€™s Budget from FY 2002 through 2026"}),a.jsx("h1",{style:{fontFamily:E,fontSize:"clamp(28px, 4vw, 42px)",color:"#F8FAFC",fontWeight:700,lineHeight:1.15,margin:"0 0 8px 0"},children:"NYCâ€™s Budget from FY 2002 through 2026"}),a.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"rgba(217,119,6,0.1)",border:"1px solid rgba(217,119,6,0.25)",borderRadius:"8px",padding:"8px 16px",marginBottom:"12px"},children:a.jsxs("span",{style:{fontFamily:h,fontSize:"12px",color:"#E2E8F0"},children:["Brought to you by"," ",a.jsx("a",{href:"https://maximumnewyork.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#D97706",textDecoration:"none",fontWeight:600,borderBottom:"1px solid rgba(217,119,6,0.4)"},onMouseEnter:o=>o.currentTarget.style.borderBottomColor="#D97706",onMouseLeave:o=>o.currentTarget.style.borderBottomColor="rgba(217,119,6,0.4)",children:"Maximum New York"})]})}),a.jsx("p",{style:{fontSize:"15px",color:"#64748B",margin:0,lineHeight:1.5,maxWidth:"650px"},children:"Total adopted expense budget by fiscal year, FY2002 (passed 2001) through FY2026 (passed 2025). Adjust the range below, hover for details, and click any data point to freeze the panel so you can click the source link."})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[a.jsx("span",{style:{fontFamily:h,fontSize:"10px",color:"#536178",letterSpacing:"0.08em",textTransform:"uppercase",marginRight:"4px"},children:"Filter by Mayor"}),[{key:null,label:"All"},...Fe.filter(o=>o.name!=="Giuliani").map(o=>({key:o.name,label:o.name}))].map(o=>{const S=o.key===e,I=o.key?L[o.key]:"#94A3B8";return a.jsxs("button",{onClick:()=>o.key?v(o.key):v(null),style:{fontFamily:h,fontSize:"11px",fontWeight:S?700:500,color:S?"#F8FAFC":"#94A3B8",background:S?`${I}25`:"rgba(30,41,59,0.4)",border:`1px solid ${S?`${I}60`:"rgba(51,65,85,0.5)"}`,borderRadius:"8px",padding:"7px 16px",cursor:"pointer",transition:"all 0.2s",outline:"none",boxShadow:S?`0 0 12px ${I}20`:"none"},children:[o.key&&a.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:I,marginRight:7,verticalAlign:"middle",opacity:S?1:.5}}),o.label]},o.label)})]}),a.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"32px",flexWrap:"wrap",alignItems:"stretch"},children:[a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[a.jsx(Oe,{value:t,onChange:o=>{r(o),s(null),u(null),b(null)},options:W,label:"Start"}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:"#94A3B8",lineHeight:1.2},children:k?Q(k.raw):"â€”"})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:"1px solid rgba(51,65,85,0.5)",borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"6px"},children:[a.jsx(Oe,{value:n,onChange:o=>{i(o),s(null),u(null),b(null)},options:T,label:"End"}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:J,lineHeight:1.2},children:y?Q(y.raw):"â€”"})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${e?`${L[e]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[a.jsxs("div",{style:{fontFamily:h,fontSize:"9px",color:e?L[e]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:[e?`${e} `:"",m,"-Year Growth"]}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:w>=0?"#34D399":"#F87171",lineHeight:1.2},children:q(w.toFixed(0))}),a.jsxs("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:[ce(z.toFixed(2))," total"]})]}),a.jsxs("div",{style:{background:"rgba(30,41,59,0.5)",border:`1px solid ${e?`${L[e]}40`:"rgba(51,65,85,0.5)"}`,borderRadius:"10px",padding:"14px 18px",flex:"1 1 150px",minWidth:"150px",display:"flex",flexDirection:"column",justifyContent:"center",transition:"border-color 0.2s"},children:[a.jsx("div",{style:{fontFamily:h,fontSize:"9px",color:e?L[e]:"#64748B",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"4px",transition:"color 0.2s"},children:"Avg Annual Increase"}),a.jsx("div",{style:{fontFamily:E,fontSize:"22px",fontWeight:700,color:D>=0?"#60A5FA":"#F87171",lineHeight:1.2},children:q(D.toFixed(1))}),a.jsx("div",{style:{fontSize:"11px",color:"#475569",marginTop:"2px"},children:"Mean YoY change"})]})]}),a.jsxs("div",{ref:j,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px",marginBottom:"40px"},children:[a.jsx(xe,{chartRef:j,chartId:"nyc-total-budget-2002-2026",title:"NYC Total Adopted Budget FY2002â€“2026",dark:!0}),a.jsx("h2",{style:{fontFamily:E,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 6px 0"},children:"Total Adopted Budget"}),a.jsx("div",{style:{background:f?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${f?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:a.jsx(Se,{data:M,label:"budget",locked:!!f,onUnlock:()=>u(null)})}),a.jsx("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{f||d(null)},children:a.jsx(ve,{width:"100%",height:380,children:a.jsxs(it,{data:P,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:f?void 0:Z,onClick:ee,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:J,stopOpacity:.25}),a.jsx("stop",{offset:"50%",stopColor:J,stopOpacity:.08}),a.jsx("stop",{offset:"100%",stopColor:J,stopOpacity:0})]})}),a.jsx(Ae,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),a.jsx(re,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:h},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:o=>`'${String(o).slice(2)}`,interval:Math.max(1,Math.floor(P.length/14))}),a.jsx(oe,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:h},tickLine:!1,axisLine:!1,tickFormatter:o=>`$${o}B`,domain:[pe,ue],ticks:fe}),a.jsx(we,{content:a.jsx(Ce,{}),cursor:{stroke:"#475569",strokeWidth:1,strokeDasharray:"4 4"}}),[{x:2003,label:"Bloomberg"},{x:2015,label:"de Blasio"},{x:2023,label:"Adams"}].filter(o=>o.x>=t&&o.x<=n).map(o=>a.jsx(ae,{x:o.x,stroke:"rgba(148,163,184,0.15)",strokeDasharray:"6 4",label:{value:o.label,position:"top",fill:"#475569",fontSize:10,fontFamily:h}},o.x)),a.jsx(R,{type:"monotone",dataKey:"budget",stroke:J,strokeWidth:2.5,fill:"url(#budgetGradient)",dot:a.jsx(lt,{}),activeDot:a.jsx(ct,{})})]})})}),a.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:h},children:[a.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link."]})]}),a.jsxs("div",{ref:B,style:{position:"relative",background:"rgba(15,23,42,0.4)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px"},children:[a.jsx(xe,{chartRef:B,chartId:"nyc-budget-yoy-change-2002-2026",title:"NYC Budget Year-over-Year Change FY2002â€“2026",dark:!0}),a.jsx("h2",{style:{fontFamily:E,fontSize:"20px",color:"#E2E8F0",fontWeight:600,margin:"0 0 4px 0"},children:"Year-over-Year Change"}),a.jsx("p",{style:{fontSize:"13px",color:"#64748B",margin:"0 0 6px 0"},children:"Percentage increase (or decrease) from the prior fiscal yearâ€™s adopted expense budget"}),a.jsx("div",{style:{background:x?"rgba(15,23,42,0.95)":"rgba(15,23,42,0.8)",border:`1px solid ${x?"rgba(96,165,250,0.3)":"rgba(51,65,85,0.4)"}`,borderRadius:"10px",padding:"12px 18px",marginBottom:"6px",minHeight:"58px",transition:"border-color 0.2s, background 0.2s"},children:a.jsx(Se,{data:A,label:"pct",locked:!!x,onUnlock:()=>b(null)})}),a.jsxs("div",{style:{background:"rgba(15,23,42,0.6)",border:"1px solid rgba(51,65,85,0.4)",borderRadius:"14px",padding:"24px 12px 16px 0",cursor:"crosshair"},onMouseLeave:()=>{x||p(null)},children:[a.jsx(ve,{width:"100%",height:300,children:a.jsxs(nt,{data:O,margin:{top:16,right:24,left:16,bottom:8},onMouseMove:x?void 0:$,onClick:Re,children:[a.jsx(Ae,{stroke:"rgba(51,65,85,0.3)",strokeDasharray:"3 3",vertical:!1}),a.jsx(re,{dataKey:"fy",stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:h},tickLine:!1,axisLine:{stroke:"#334155"},tickFormatter:o=>`'${String(o).slice(2)}`,interval:Math.max(1,Math.floor(O.length/14))}),a.jsx(oe,{stroke:"#334155",tick:{fill:"#64748B",fontSize:11,fontFamily:h},tickLine:!1,axisLine:!1,tickFormatter:o=>`${o}%`,domain:[Math.floor(We)-1,Math.ceil(Te)+1]}),a.jsx(we,{content:a.jsx(Ce,{}),cursor:{fill:"rgba(148,163,184,0.06)"}}),a.jsx(ae,{y:parseFloat(D.toFixed(1)),stroke:"#60A5FA",strokeDasharray:"6 3",strokeWidth:1.5,label:{value:`Avg ${q(D.toFixed(1))}`,position:"right",fill:"#60A5FA",fontSize:10,fontFamily:h}}),a.jsx(ae,{y:0,stroke:"#475569",strokeWidth:1}),[{x:2003},{x:2015},{x:2023}].filter(o=>o.x>t&&o.x<=n).map(o=>a.jsx(ae,{x:o.x,stroke:"rgba(148,163,184,0.12)",strokeDasharray:"6 4"},o.x)),a.jsx(Le,{dataKey:"pctChange",radius:[4,4,0,0],maxBarSize:28,children:O.map((o,S)=>a.jsx(Je,{fill:o.pctChange<0?"#F87171":o.pctChange>7?"#34D399":o.pctChange>4?"#D97706":"#64748B",fillOpacity:.8},`cell-${S}`))})]})}),a.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginTop:"8px",flexWrap:"wrap"},children:[{color:"#F87171",label:"Decrease"},{color:"#64748B",label:"0â€“4%"},{color:"#D97706",label:"4â€“7%"},{color:"#34D399",label:"> 7%"},{color:"#60A5FA",label:"Average",dashed:!0}].map(o=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontFamily:h,fontSize:"10px",color:"#64748B"},children:[o.dashed?a.jsx("div",{style:{width:16,height:0,borderTop:`2px dashed ${o.color}`}}):a.jsx("div",{style:{width:10,height:10,borderRadius:"2px",background:o.color,opacity:.8}}),o.label]},o.label))})]}),a.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(51,65,85,0.3)",fontSize:"11px",color:"#475569",lineHeight:1.6,fontFamily:h},children:[a.jsx("strong",{style:{color:"#64748B"},children:"Sources:"})," NYC Mayorâ€™s Office of Management & Budget (OMB) Expense, Revenue, Contract Budget reports. All source PDFs linked per data point via the detail panel above the chart. Figures represent total adopted expense budget including all funds (city, state, and federal). FY = Fiscal Year (July 1 â€“ June 30). Click any data point to freeze the panel and access the source link."]})]})]})]})}function xt(){return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"NYC's Budget from FY 2002 through 2026"}),a.jsx("p",{className:"subtitle",children:"Total adopted expense budget by fiscal year, from FY2002 through FY2026. Filter by mayor, adjust the range, hover for details, and click any data point to freeze the panel and access source links."})]}),a.jsx(dt,{})]})}export{xt as default};
